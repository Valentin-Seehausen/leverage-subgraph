{
  "abi": [
    {
      "inputs": [
        {
          "internalType": "contract ILiquidityPool",
          "name": "liquidityPool_",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "protocol_",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "chainlinkAggregator_",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "aggregator",
          "type": "address"
        }
      ],
      "name": "ChainlinkAggregatorSet",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "liquidityPool",
          "type": "address"
        }
      ],
      "name": "LiquidityPoolSet",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "trader",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "positionId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "closePrice",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "closeDate",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "int256",
          "name": "pnlShares",
          "type": "int256"
        }
      ],
      "name": "PositionClosed",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "trader",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "positionId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "collateral",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "shares",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "leverage",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "isLong",
          "type": "bool"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "entryPrice",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "liquidationPrice",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "takeProfitPrice",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "openDate",
          "type": "uint256"
        }
      ],
      "name": "PositionOpened",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "protocol",
          "type": "address"
        }
      ],
      "name": "ProtocolSet",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "protocol",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "protocolShare",
          "type": "uint256"
        }
      ],
      "name": "ProtocolShareTaken",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "chainlinkAggregator",
      "outputs": [
        {
          "internalType": "contract AggregatorV3Interface",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "positionId",
          "type": "uint256"
        }
      ],
      "name": "closePosition",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256[]",
          "name": "positionIds",
          "type": "uint256[]"
        }
      ],
      "name": "closePositions",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "liquidityPool",
      "outputs": [
        {
          "internalType": "contract ILiquidityPool",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "collateral",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "leverage",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isLong",
          "type": "bool"
        }
      ],
      "name": "openPosition",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "positions",
      "outputs": [
        {
          "internalType": "address",
          "name": "trader",
          "type": "address"
        },
        {
          "internalType": "uint128",
          "name": "shares",
          "type": "uint128"
        },
        {
          "internalType": "uint32",
          "name": "leverage",
          "type": "uint32"
        },
        {
          "internalType": "bool",
          "name": "isLong",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "entryPrice",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "protocol",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "aggregator",
          "type": "address"
        }
      ],
      "name": "setChainlinkAggregator",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "contract ILiquidityPool",
          "name": "_liquidityPool",
          "type": "address"
        }
      ],
      "name": "setLiquidityPool",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_protocol",
          "type": "address"
        }
      ],
      "name": "setProtocol",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": {
    "object": "0x6080604052606462000016620f424060016200015d565b62000022919062000189565b6000553480156200003257600080fd5b50604051620011b2380380620011b28339810160408190526200005591620001c5565b62000060836200007f565b6200006b82620000c9565b620000768162000113565b50505062000219565b600280546001600160a01b0319166001600160a01b0383169081179091556040517fe57f71636571365571c0eaeaeb54e1d9e0065804f056a57a2a29448524f7d18a90600090a250565b600380546001600160a01b0319166001600160a01b0383169081179091556040517f9269d63ac6e0360a152db45a73e3e9e471a002419dff28abc7b58efaa211a2ba90600090a250565b600580546001600160a01b0319166001600160a01b0383169081179091556040517fe961dda575ed805d146eaa4042ec32dc5f24ac9c6ea5bcee7647d4ae801f6fe790600090a250565b80820281158282048414176200018357634e487b7160e01b600052601160045260246000fd5b92915050565b600082620001a757634e487b7160e01b600052601260045260246000fd5b500490565b6001600160a01b0381168114620001c257600080fd5b50565b600080600060608486031215620001db57600080fd5b8351620001e881620001ac565b6020850151909350620001fb81620001ac565b60408501519092506200020e81620001ac565b809150509250925092565b610f8980620002296000396000f3fe608060405234801561001057600080fd5b506004361061009e5760003560e01c80638ce74426116100665780638ce744261461012157806399fbab8814610134578063a126d601146101d5578063aa93186d146101e8578063ef353917146101fb57600080fd5b806301877020146100a35780630a9d793d146100b85780631558c966146100cb5780635004d36c146100de578063665a11ca1461010e575b600080fd5b6100b66100b1366004610c27565b61020e565b005b6100b66100c6366004610c27565b610258565b6100b66100d9366004610c59565b6102a2565b6005546100f1906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b6002546100f1906001600160a01b031681565b6003546100f1906001600160a01b031681565b610190610142366004610c92565b6004602052600090815260409020805460018201546002909201546001600160a01b03909116916001600160801b03811691600160801b820463ffffffff1691600160a01b900460ff169085565b604080516001600160a01b0390961686526001600160801b03909416602086015263ffffffff909216928401929092529015156060830152608082015260a001610105565b6100b66101e3366004610c92565b610598565b6100b66101f6366004610cc1565b610612565b6100b6610209366004610c27565b610653565b600280546001600160a01b0319166001600160a01b0383169081179091556040517fe57f71636571365571c0eaeaeb54e1d9e0065804f056a57a2a29448524f7d18a90600090a250565b600380546001600160a01b0319166001600160a01b0383169081179091556040517f9269d63ac6e0360a152db45a73e3e9e471a002419dff28abc7b58efaa211a2ba90600090a250565b6102b0620f42406005610d95565b82101580156102cc57506102c8620f42406064610d95565b8211155b6103305760405162461bcd60e51b815260206004820152602a60248201527f5472616465506169723a3a6f70656e506f736974696f6e3a20496e76616c6964604482015269103632bb32b930b3b29760b11b60648201526084015b60405180910390fd5b629896808310158015610348575064e8d4a510008311155b6103a95760405162461bcd60e51b815260206004820152602c60248201527f5472616465506169723a3a6f70656e506f736974696f6e3a20496e76616c696460448201526b1031b7b63630ba32b930b61760a11b6064820152608401610327565b60006103b361069d565b90506000806103c3838686610798565b60025460405163297576c360e21b8152336004820152602481018a905292945090925042916000916001600160a01b03169063a5d5db0c906044016020604051808303816000875af115801561041d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104419190610db2565b60018054919250600061045383610dcb565b90915550506040805160a081018252338082526001600160801b03808516602080850191825263ffffffff808e168688019081528d151560608801908152608088018e81526001805460009081526004909652948a9020985189546001600160a01b03919091166001600160a01b0319918216178a5595518986018054945193511515600160a01b0260ff60a01b1994909616600160801b029490971697169690961791909117161790915590516002909301929092559054915190917f664218bb5e99fd4ca867d8e92f8fdbeddc8aac8132245e8efecdae2576e3789e9161058691908c9086908d908d908d908d908d908d90988952602089019790975260408801959095526060870193909352901515608086015260a085015260c084015260e08301526101008201526101200190565b60405180910390a25050505050505050565b60006105a38261083f565b90508061060e5760405162461bcd60e51b815260206004820152603360248201527f5472616465506169723a3a636c6f7365506f736974696f6e3a20506f7369746960448201527237b71034b9903737ba1031b637b9b0b136329760691b6064820152608401610327565b5050565b60005b815181101561060e5761064082828151811061063357610633610de4565b602002602001015161083f565b508061064b81610dcb565b915050610615565b600580546001600160a01b0319166001600160a01b0383169081179091556040517fe961dda575ed805d146eaa4042ec32dc5f24ac9c6ea5bcee7647d4ae801f6fe790600090a250565b600080600560009054906101000a90046001600160a01b03166001600160a01b031663feaf968c6040518163ffffffff1660e01b815260040160a060405180830381865afa1580156106f3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107179190610e14565b505050915050600081136107935760405162461bcd60e51b815260206004820152603f60248201527f5472616465506169723a3a5f67657443757272656e7450726963653a2046616960448201527f6c656420746f206665746368207468652063757272656e742070726963652e006064820152608401610327565b919050565b60008082156107ee57836107af620f424087610d95565b6107b99190610e64565b6107c39086610e86565b9150836107d3620f424087610d95565b6107dd9190610e64565b6107e79086610e99565b9050610837565b836107fc620f424087610d95565b6108069190610e64565b6108109086610e99565b915083610820620f424087610d95565b61082a9190610e64565b6108349086610e86565b90505b935093915050565b600081815260046020526040812080546001600160a01b03166108655750600092915050565b600061086f61069d565b60028301546001840154919250600091829182916108a59190600160801b810463ffffffff1690600160a01b900460ff16610798565b60018701549193509150600160a01b900460ff161561090c578084106108da5760018501546001600160801b03169250610949565b8184116108ff5760018501546108f8906001600160801b0316610eac565b9250610949565b5060009695505050505050565b8084116109285760018501546001600160801b03169250610949565b8184106108ff576001850154610946906001600160801b0316610eac565b92505b600083600f0b13156109f5576002805486546001600160a01b039182169263a9059cbb929091169061098090600f88900b90610edb565b6040516001600160e01b031960e085901b1681526001600160a01b03909216600483015260248201526044016020604051808303816000875af11580156109cb573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109ef9190610f0b565b50610b77565b600080546001870154620f424091610a15916001600160801b0316610d95565b610a1f9190610e64565b60025460035460405163a9059cbb60e01b81526001600160a01b03918216600482015260248101849052929350169063a9059cbb906044016020604051808303816000875af1158015610a76573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a9a9190610f0b565b506002805460018801546001600160a01b03909116916342966c68918491610acb916001600160801b031690610f28565b6001600160801b0316610ade9190610e86565b6040518263ffffffff1660e01b8152600401610afc91815260200190565b600060405180830381600087803b158015610b1657600080fd5b505af1158015610b2a573d6000803e3d6000fd5b5050600354604080516001600160a01b039092168252602082018590527f110f5f0187a3a1acba865eca199d48ecae4bfe8aaac55910fa3c0684a0abbd9a935001905060405180910390a1505b845460408051898152602081018790524281830152600f86900b606082015290516001600160a01b03909216917f398340331999d3ec20eba0ca6ed7fff4090f1906a8f6dfa8d96b3c47081550059181900360800190a2505050600093845250506004602052506040812080546001600160a01b0319168155600180820180546001600160a81b031916905560029091019190915590565b6001600160a01b0381168114610c2457600080fd5b50565b600060208284031215610c3957600080fd5b8135610c4481610c0f565b9392505050565b8015158114610c2457600080fd5b600080600060608486031215610c6e57600080fd5b83359250602084013591506040840135610c8781610c4b565b809150509250925092565b600060208284031215610ca457600080fd5b5035919050565b634e487b7160e01b600052604160045260246000fd5b60006020808385031215610cd457600080fd5b823567ffffffffffffffff80821115610cec57600080fd5b818501915085601f830112610d0057600080fd5b813581811115610d1257610d12610cab565b8060051b604051601f19603f83011681018181108582111715610d3757610d37610cab565b604052918252848201925083810185019188831115610d5557600080fd5b938501935b82851015610d7357843584529385019392850192610d5a565b98975050505050505050565b634e487b7160e01b600052601160045260246000fd5b8082028115828204841417610dac57610dac610d7f565b92915050565b600060208284031215610dc457600080fd5b5051919050565b600060018201610ddd57610ddd610d7f565b5060010190565b634e487b7160e01b600052603260045260246000fd5b805169ffffffffffffffffffff8116811461079357600080fd5b600080600080600060a08688031215610e2c57600080fd5b610e3586610dfa565b9450602086015193506040860151925060608601519150610e5860808701610dfa565b90509295509295909350565b600082610e8157634e487b7160e01b600052601260045260246000fd5b500490565b81810381811115610dac57610dac610d7f565b80820180821115610dac57610dac610d7f565b600081600f0b6f7fffffffffffffffffffffffffffffff198103610ed257610ed2610d7f565b60000392915050565b80820260008212600160ff1b84141615610ef757610ef7610d7f565b8181058314821517610dac57610dac610d7f565b600060208284031215610f1d57600080fd5b8151610c4481610c4b565b6001600160801b03818116838216028082169190828114610f4b57610f4b610d7f565b50509291505056fea2646970667358221220d95bfae978c3070bb0554cb72a1d159f481c4a7bf5c95d0550313d4c43566dce64736f6c63430008130033",
    "sourceMap": "269:6169:39:-:0;;;594:3;578:13;345:3;590:1;578:13;:::i;:::-;:19;;;;:::i;:::-;564:33;;1080:227;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;1182:32;1199:14;1182:16;:32::i;:::-;1224:22;1236:9;1224:11;:22::i;:::-;1256:44;1279:20;1256:22;:44::i;:::-;1080:227;;;269:6169;;4796:167;4870:13;:30;;-1:-1:-1;;;;;;4870:30:39;-1:-1:-1;;;;;4870:30:39;;;;;;;;4915:41;;;;-1:-1:-1;;4915:41:39;4796:167;:::o;5012:121::-;5069:8;:20;;-1:-1:-1;;;;;;5069:20:39;-1:-1:-1;;;;;5069:20:39;;;;;;;;5104:22;;;;-1:-1:-1;;5104:22:39;5012:121;:::o;5212:189::-;5281:19;:55;;-1:-1:-1;;;;;;5281:55:39;-1:-1:-1;;;;;5281:55:39;;;;;;;;5351:43;;;;-1:-1:-1;;5351:43:39;5212:189;:::o;14:265:55:-;87:9;;;118;;135:15;;;129:22;;115:37;105:168;;195:10;190:3;186:20;183:1;176:31;230:4;227:1;220:15;258:4;255:1;248:15;105:168;14:265;;;;:::o;284:217::-;324:1;350;340:132;;394:10;389:3;385:20;382:1;375:31;429:4;426:1;419:15;457:4;454:1;447:15;340:132;-1:-1:-1;486:9:55;;284:217::o;506:147::-;-1:-1:-1;;;;;597:31:55;;587:42;;577:70;;643:1;640;633:12;577:70;506:147;:::o;658:591::-;770:6;778;786;839:2;827:9;818:7;814:23;810:32;807:52;;;855:1;852;845:12;807:52;887:9;881:16;906:47;947:5;906:47;:::i;:::-;1022:2;1007:18;;1001:25;972:5;;-1:-1:-1;1035:49:55;1001:25;1035:49;:::i;:::-;1155:2;1140:18;;1134:25;1103:7;;-1:-1:-1;1168:49:55;1134:25;1168:49;:::i;:::-;1236:7;1226:17;;;658:591;;;;;:::o;:::-;269:6169:39;;;;;;",
    "linkReferences": {}
  },
  "deployedBytecode": {
    "object": "0x608060405234801561001057600080fd5b506004361061009e5760003560e01c80638ce74426116100665780638ce744261461012157806399fbab8814610134578063a126d601146101d5578063aa93186d146101e8578063ef353917146101fb57600080fd5b806301877020146100a35780630a9d793d146100b85780631558c966146100cb5780635004d36c146100de578063665a11ca1461010e575b600080fd5b6100b66100b1366004610c27565b61020e565b005b6100b66100c6366004610c27565b610258565b6100b66100d9366004610c59565b6102a2565b6005546100f1906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b6002546100f1906001600160a01b031681565b6003546100f1906001600160a01b031681565b610190610142366004610c92565b6004602052600090815260409020805460018201546002909201546001600160a01b03909116916001600160801b03811691600160801b820463ffffffff1691600160a01b900460ff169085565b604080516001600160a01b0390961686526001600160801b03909416602086015263ffffffff909216928401929092529015156060830152608082015260a001610105565b6100b66101e3366004610c92565b610598565b6100b66101f6366004610cc1565b610612565b6100b6610209366004610c27565b610653565b600280546001600160a01b0319166001600160a01b0383169081179091556040517fe57f71636571365571c0eaeaeb54e1d9e0065804f056a57a2a29448524f7d18a90600090a250565b600380546001600160a01b0319166001600160a01b0383169081179091556040517f9269d63ac6e0360a152db45a73e3e9e471a002419dff28abc7b58efaa211a2ba90600090a250565b6102b0620f42406005610d95565b82101580156102cc57506102c8620f42406064610d95565b8211155b6103305760405162461bcd60e51b815260206004820152602a60248201527f5472616465506169723a3a6f70656e506f736974696f6e3a20496e76616c6964604482015269103632bb32b930b3b29760b11b60648201526084015b60405180910390fd5b629896808310158015610348575064e8d4a510008311155b6103a95760405162461bcd60e51b815260206004820152602c60248201527f5472616465506169723a3a6f70656e506f736974696f6e3a20496e76616c696460448201526b1031b7b63630ba32b930b61760a11b6064820152608401610327565b60006103b361069d565b90506000806103c3838686610798565b60025460405163297576c360e21b8152336004820152602481018a905292945090925042916000916001600160a01b03169063a5d5db0c906044016020604051808303816000875af115801561041d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104419190610db2565b60018054919250600061045383610dcb565b90915550506040805160a081018252338082526001600160801b03808516602080850191825263ffffffff808e168688019081528d151560608801908152608088018e81526001805460009081526004909652948a9020985189546001600160a01b03919091166001600160a01b0319918216178a5595518986018054945193511515600160a01b0260ff60a01b1994909616600160801b029490971697169690961791909117161790915590516002909301929092559054915190917f664218bb5e99fd4ca867d8e92f8fdbeddc8aac8132245e8efecdae2576e3789e9161058691908c9086908d908d908d908d908d908d90988952602089019790975260408801959095526060870193909352901515608086015260a085015260c084015260e08301526101008201526101200190565b60405180910390a25050505050505050565b60006105a38261083f565b90508061060e5760405162461bcd60e51b815260206004820152603360248201527f5472616465506169723a3a636c6f7365506f736974696f6e3a20506f7369746960448201527237b71034b9903737ba1031b637b9b0b136329760691b6064820152608401610327565b5050565b60005b815181101561060e5761064082828151811061063357610633610de4565b602002602001015161083f565b508061064b81610dcb565b915050610615565b600580546001600160a01b0319166001600160a01b0383169081179091556040517fe961dda575ed805d146eaa4042ec32dc5f24ac9c6ea5bcee7647d4ae801f6fe790600090a250565b600080600560009054906101000a90046001600160a01b03166001600160a01b031663feaf968c6040518163ffffffff1660e01b815260040160a060405180830381865afa1580156106f3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107179190610e14565b505050915050600081136107935760405162461bcd60e51b815260206004820152603f60248201527f5472616465506169723a3a5f67657443757272656e7450726963653a2046616960448201527f6c656420746f206665746368207468652063757272656e742070726963652e006064820152608401610327565b919050565b60008082156107ee57836107af620f424087610d95565b6107b99190610e64565b6107c39086610e86565b9150836107d3620f424087610d95565b6107dd9190610e64565b6107e79086610e99565b9050610837565b836107fc620f424087610d95565b6108069190610e64565b6108109086610e99565b915083610820620f424087610d95565b61082a9190610e64565b6108349086610e86565b90505b935093915050565b600081815260046020526040812080546001600160a01b03166108655750600092915050565b600061086f61069d565b60028301546001840154919250600091829182916108a59190600160801b810463ffffffff1690600160a01b900460ff16610798565b60018701549193509150600160a01b900460ff161561090c578084106108da5760018501546001600160801b03169250610949565b8184116108ff5760018501546108f8906001600160801b0316610eac565b9250610949565b5060009695505050505050565b8084116109285760018501546001600160801b03169250610949565b8184106108ff576001850154610946906001600160801b0316610eac565b92505b600083600f0b13156109f5576002805486546001600160a01b039182169263a9059cbb929091169061098090600f88900b90610edb565b6040516001600160e01b031960e085901b1681526001600160a01b03909216600483015260248201526044016020604051808303816000875af11580156109cb573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109ef9190610f0b565b50610b77565b600080546001870154620f424091610a15916001600160801b0316610d95565b610a1f9190610e64565b60025460035460405163a9059cbb60e01b81526001600160a01b03918216600482015260248101849052929350169063a9059cbb906044016020604051808303816000875af1158015610a76573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a9a9190610f0b565b506002805460018801546001600160a01b03909116916342966c68918491610acb916001600160801b031690610f28565b6001600160801b0316610ade9190610e86565b6040518263ffffffff1660e01b8152600401610afc91815260200190565b600060405180830381600087803b158015610b1657600080fd5b505af1158015610b2a573d6000803e3d6000fd5b5050600354604080516001600160a01b039092168252602082018590527f110f5f0187a3a1acba865eca199d48ecae4bfe8aaac55910fa3c0684a0abbd9a935001905060405180910390a1505b845460408051898152602081018790524281830152600f86900b606082015290516001600160a01b03909216917f398340331999d3ec20eba0ca6ed7fff4090f1906a8f6dfa8d96b3c47081550059181900360800190a2505050600093845250506004602052506040812080546001600160a01b0319168155600180820180546001600160a81b031916905560029091019190915590565b6001600160a01b0381168114610c2457600080fd5b50565b600060208284031215610c3957600080fd5b8135610c4481610c0f565b9392505050565b8015158114610c2457600080fd5b600080600060608486031215610c6e57600080fd5b83359250602084013591506040840135610c8781610c4b565b809150509250925092565b600060208284031215610ca457600080fd5b5035919050565b634e487b7160e01b600052604160045260246000fd5b60006020808385031215610cd457600080fd5b823567ffffffffffffffff80821115610cec57600080fd5b818501915085601f830112610d0057600080fd5b813581811115610d1257610d12610cab565b8060051b604051601f19603f83011681018181108582111715610d3757610d37610cab565b604052918252848201925083810185019188831115610d5557600080fd5b938501935b82851015610d7357843584529385019392850192610d5a565b98975050505050505050565b634e487b7160e01b600052601160045260246000fd5b8082028115828204841417610dac57610dac610d7f565b92915050565b600060208284031215610dc457600080fd5b5051919050565b600060018201610ddd57610ddd610d7f565b5060010190565b634e487b7160e01b600052603260045260246000fd5b805169ffffffffffffffffffff8116811461079357600080fd5b600080600080600060a08688031215610e2c57600080fd5b610e3586610dfa565b9450602086015193506040860151925060608601519150610e5860808701610dfa565b90509295509295909350565b600082610e8157634e487b7160e01b600052601260045260246000fd5b500490565b81810381811115610dac57610dac610d7f565b80820180821115610dac57610dac610d7f565b600081600f0b6f7fffffffffffffffffffffffffffffff198103610ed257610ed2610d7f565b60000392915050565b80820260008212600160ff1b84141615610ef757610ef7610d7f565b8181058314821517610dac57610dac610d7f565b600060208284031215610f1d57600080fd5b8151610c4481610c4b565b6001600160801b03818116838216028082169190828114610f4b57610f4b610d7f565b50509291505056fea2646970667358221220d95bfae978c3070bb0554cb72a1d159f481c4a7bf5c95d0550313d4c43566dce64736f6c63430008130033",
    "sourceMap": "269:6169:39:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4796:167;;;;;;:::i;:::-;;:::i;:::-;;5012:121;;;;;;:::i;:::-;;:::i;1383:1090::-;;;;;;:::i;:::-;;:::i;929:48::-;;;;;-1:-1:-1;;;;;929:48:39;;;;;;-1:-1:-1;;;;;1426:32:55;;;1408:51;;1396:2;1381:18;929:48:39;;;;;;;;689:35;;;;;-1:-1:-1;;;;;689:35:39;;;776:23;;;;;-1:-1:-1;;;;;776:23:39;;;806:45;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;806:45:39;;;;-1:-1:-1;;;;;806:45:39;;;-1:-1:-1;;;806:45:39;;;;;-1:-1:-1;;;806:45:39;;;;;;;;;;;-1:-1:-1;;;;;2364:32:55;;;2346:51;;-1:-1:-1;;;;;2433:47:55;;;2428:2;2413:18;;2406:75;2529:10;2517:23;;;2497:18;;;2490:51;;;;2584:14;;2577:22;2572:2;2557:18;;2550:50;2631:3;2616:19;;2609:35;2333:3;2318:19;806:45:39;2095:555:55;2587:191:39;;;;;;:::i;:::-;;:::i;4549:183::-;;;;;;:::i;:::-;;:::i;5212:189::-;;;;;;:::i;:::-;;:::i;4796:167::-;4870:13;:30;;-1:-1:-1;;;;;;4870:30:39;-1:-1:-1;;;;;4870:30:39;;;;;;;;4915:41;;;;-1:-1:-1;;4915:41:39;4796:167;:::o;5012:121::-;5069:8;:20;;-1:-1:-1;;;;;;5069:20:39;-1:-1:-1;;;;;5069:20:39;;;;;;;;5104:22;;;;-1:-1:-1;;5104:22:39;5012:121;:::o;1383:1090::-;439:13;345:3;439:1;:13;:::i;:::-;1483:8;:24;;:52;;;;-1:-1:-1;386:15:39;345:3;386;:15;:::i;:::-;1511:8;:24;;1483:52;1475:107;;;;-1:-1:-1;;;1475:107:39;;4414:2:55;1475:107:39;;;4396:21:55;4453:2;4433:18;;;4426:30;4492:34;4472:18;;;4465:62;-1:-1:-1;;;4543:18:55;;;4536:40;4593:19;;1475:107:39;;;;;;;;;493:9;1613:10;:28;;:60;;;;;542:15;1645:10;:28;;1613:60;1592:139;;;;-1:-1:-1;;;1592:139:39;;4825:2:55;1592:139:39;;;4807:21:55;4864:2;4844:18;;;4837:30;4903:34;4883:18;;;4876:62;-1:-1:-1;;;4954:18:55;;;4947:42;5006:19;;1592:139:39;4623:408:55;1592:139:39;1742:18;1763;:16;:18::i;:::-;1742:39;;1792:24;1818:23;1845:52;1868:10;1880:8;1890:6;1845:22;:52::i;:::-;1984:13;;1969:71;;-1:-1:-1;;;1969:71:39;;2017:10;1969:71;;;5210:51:55;5277:18;;;5270:34;;;1791:106:39;;-1:-1:-1;1791:106:39;;-1:-1:-1;1926:15:39;;1907:16;;-1:-1:-1;;;;;1984:13:39;;1969:47;;5183:18:55;;1969:71:39;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;2051:15;:17;;1952:88;;-1:-1:-1;2051:15:39;:17;;;:::i;:::-;;;;-1:-1:-1;;2107:75:39;;;;;;;;2116:10;2107:75;;;-1:-1:-1;;;;;2107:75:39;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2088:15;;;-1:-1:-1;2078:26:39;;;:9;:26;;;;;;;:104;;;;-1:-1:-1;;;;;2078:104:39;;;;-1:-1:-1;;;;;;2078:104:39;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;2078:104:39;-1:-1:-1;;;;2078:104:39;;;;-1:-1:-1;;;2078:104:39;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2250:15;;2198:268;;2116:10;;2198:268;;;;2250:15;2279:10;;2136:6;;2152:8;;2163:6;;2171:10;;2389:16;;2419:15;;2448:8;;6009:25:55;;;6065:2;6050:18;;6043:34;;;;6108:2;6093:18;;6086:34;;;;6151:2;6136:18;;6129:34;;;;6207:14;;6200:22;6194:3;6179:19;;6172:51;6254:3;6239:19;;6232:35;6298:3;6283:19;;6276:35;6342:3;6327:19;;6320:35;6386:3;6371:19;;6364:35;5996:3;5981:19;;5644:761;2198:268:39;;;;;;;;1465:1008;;;;;1383:1090;;;:::o;2587:191::-;2649:12;2664:26;2679:10;2664:14;:26::i;:::-;2649:41;;2708:7;2700:71;;;;-1:-1:-1;;;2700:71:39;;6612:2:55;2700:71:39;;;6594:21:55;6651:2;6631:18;;;6624:30;6690:34;6670:18;;;6663:62;-1:-1:-1;;;6741:18:55;;;6734:49;6800:19;;2700:71:39;6410:415:55;2700:71:39;2639:139;2587:191;:::o;4549:183::-;4627:9;4622:104;4646:11;:18;4642:1;:22;4622:104;;;4685:30;4700:11;4712:1;4700:14;;;;;;;;:::i;:::-;;;;;;;4685;:30::i;:::-;-1:-1:-1;4666:3:39;;;;:::i;:::-;;;;4622:104;;5212:189;5281:19;:55;;-1:-1:-1;;;;;;5281:55:39;-1:-1:-1;;;;;5281:55:39;;;;;;;;5351:43;;;;-1:-1:-1;;5351:43:39;5212:189;:::o;5483:262::-;5534:7;5556:12;5575:19;;;;;;;;;-1:-1:-1;;;;;5575:19:39;-1:-1:-1;;;;;5575:35:39;;:37;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;5553:59;;;;;;5638:1;5630:5;:9;5622:85;;;;-1:-1:-1;;;5622:85:39;;7826:2:55;5622:85:39;;;7808:21:55;7865:2;7845:18;;;7838:30;7904:34;7884:18;;;7877:62;7975:33;7955:18;;;7948:61;8026:19;;5622:85:39;7624:427:55;5622:85:39;5732:5;5483:262;-1:-1:-1;5483:262:39:o;5882:554::-;6011:24;6037:23;6080:6;6076:354;;;6159:8;6134:22;345:3;6134:10;:22;:::i;:::-;:33;;;;:::i;:::-;6121:46;;:10;:46;:::i;:::-;6102:65;-1:-1:-1;6237:8:39;6212:22;345:3;6212:10;:22;:::i;:::-;:33;;;;:::i;:::-;6199:46;;:10;:46;:::i;:::-;6181:64;;6076:354;;;6333:8;6308:22;345:3;6308:10;:22;:::i;:::-;:33;;;;:::i;:::-;6295:46;;:10;:46;:::i;:::-;6276:65;-1:-1:-1;6411:8:39;6386:22;345:3;6386:10;:22;:::i;:::-;:33;;;;:::i;:::-;6373:46;;:10;:46;:::i;:::-;6355:64;;6076:354;5882:554;;;;;;:::o;2844:1622::-;2906:12;2958:21;;;:9;:21;;;;;2994:15;;-1:-1:-1;;;;;2994:15:39;2990:106;;-1:-1:-1;3080:5:39;;2844:1622;-1:-1:-1;;2844:1622:39:o;2990:106::-;3106:18;3127;:16;:18::i;:::-;3265:19;;;;3286:17;;;;3106:39;;-1:-1:-1;3155:10:39;;;;;;3242:79;;3265:19;-1:-1:-1;;;3286:17:39;;;;;-1:-1:-1;;;3305:15:39;;;;3242:22;:79::i;:::-;3336:15;;;;3176:145;;-1:-1:-1;3176:145:39;-1:-1:-1;;;;3336:15:39;;;;3332:581;;;3385:15;3371:10;:29;3367:253;;3433:15;;;;-1:-1:-1;;;;;3433:15:39;;-1:-1:-1;3332:581:39;;3367:253;3488:16;3474:10;:30;3470:150;;3538:15;;;;3530:24;;-1:-1:-1;;;;;3538:15:39;3530:24;:::i;:::-;3524:30;;3332:581;;3470:150;-1:-1:-1;3600:5:39;;2844:1622;-1:-1:-1;;;;;;2844:1622:39:o;3332:581::-;3668:15;3654:10;:29;3650:253;;3716:15;;;;-1:-1:-1;;;;;3716:15:39;;-1:-1:-1;3650:253:39;;;3771:16;3757:10;:30;3753:150;;3821:15;;;;3813:24;;-1:-1:-1;;;;;3821:15:39;3813:24;:::i;:::-;3807:30;;3753:150;3933:1;3927:3;:7;;;3923:383;;;3950:13;;;3973:15;;-1:-1:-1;;;;;3950:13:39;;;;:22;;3973:15;;;;3998;;:11;;;;;:15;:::i;:::-;3950:65;;-1:-1:-1;;;;;;3950:65:39;;;;;;;-1:-1:-1;;;;;5228:32:55;;;3950:65:39;;;5210:51:55;5277:18;;;5270:34;5183:18;;3950:65:39;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;3923:383;;;4046:21;4088:3;;4070:15;;;;345:3;;4070:21;;-1:-1:-1;;;;;4070:15:39;:21;:::i;:::-;:33;;;;:::i;:::-;4117:13;;4140:8;;4117:47;;-1:-1:-1;;;4117:47:39;;-1:-1:-1;;;;;4140:8:39;;;4117:47;;;5210:51:55;5277:18;;;5270:34;;;4046:57:39;;-1:-1:-1;4117:13:39;;:22;;5183:18:55;;4117:47:39;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1;4178:13:39;;;;4197:15;;;-1:-1:-1;;;;;4178:13:39;;;;:18;;4219:13;;4197:19;;-1:-1:-1;;;;;4197:15:39;;:19;:::i;:::-;-1:-1:-1;;;;;4197:35:39;;;;;:::i;:::-;4178:55;;;;;;;;;;;;;9676:25:55;;9664:2;9649:18;;9530:177;4178:55:39;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;4271:8:39;;4252:43;;;-1:-1:-1;;;;;4271:8:39;;;5210:51:55;;5292:2;5277:18;;5270:34;;;4252:43:39;;-1:-1:-1;5183:18:55;;-1:-1:-1;4252:43:39;;;;;;;4032:274;3923:383;4336:15;;4321:77;;;9941:25:55;;;9997:2;9982:18;;9975:34;;;4377:15:39;10025:18:55;;;10018:34;10099:2;10088:22;;;10083:2;10068:18;;10061:50;4321:77:39;;-1:-1:-1;;;;;4336:15:39;;;;4321:77;;;;;9928:3:55;4321:77:39;;;-1:-1:-1;;;4416:21:39;;;;-1:-1:-1;;4416:9:39;:21;;-1:-1:-1;4416:21:39;;;4409:28;;-1:-1:-1;;;;;;4409:28:39;;;;;;;;;-1:-1:-1;;;;;;4409:28:39;;;;;;;;;;;;2844:1622::o;14:147:55:-;-1:-1:-1;;;;;105:31:55;;95:42;;85:70;;151:1;148;141:12;85:70;14:147;:::o;166:287::-;249:6;302:2;290:9;281:7;277:23;273:32;270:52;;;318:1;315;308:12;270:52;357:9;344:23;376:47;417:5;376:47;:::i;:::-;442:5;166:287;-1:-1:-1;;;166:287:55:o;726:118::-;812:5;805:13;798:21;791:5;788:32;778:60;;834:1;831;824:12;849:377;923:6;931;939;992:2;980:9;971:7;967:23;963:32;960:52;;;1008:1;1005;998:12;960:52;1044:9;1031:23;1021:33;;1101:2;1090:9;1086:18;1073:32;1063:42;;1155:2;1144:9;1140:18;1127:32;1168:28;1190:5;1168:28;:::i;:::-;1215:5;1205:15;;;849:377;;;;;:::o;1910:180::-;1969:6;2022:2;2010:9;2001:7;1997:23;1993:32;1990:52;;;2038:1;2035;2028:12;1990:52;-1:-1:-1;2061:23:55;;1910:180;-1:-1:-1;1910:180:55:o;2655:127::-;2716:10;2711:3;2707:20;2704:1;2697:31;2747:4;2744:1;2737:15;2771:4;2768:1;2761:15;2787:1115;2871:6;2902:2;2945;2933:9;2924:7;2920:23;2916:32;2913:52;;;2961:1;2958;2951:12;2913:52;3001:9;2988:23;3030:18;3071:2;3063:6;3060:14;3057:34;;;3087:1;3084;3077:12;3057:34;3125:6;3114:9;3110:22;3100:32;;3170:7;3163:4;3159:2;3155:13;3151:27;3141:55;;3192:1;3189;3182:12;3141:55;3228:2;3215:16;3250:2;3246;3243:10;3240:36;;;3256:18;;:::i;:::-;3302:2;3299:1;3295:10;3334:2;3328:9;3397:2;3393:7;3388:2;3384;3380:11;3376:25;3368:6;3364:38;3452:6;3440:10;3437:22;3432:2;3420:10;3417:18;3414:46;3411:72;;;3463:18;;:::i;:::-;3499:2;3492:22;3549:18;;;3583:15;;;;-1:-1:-1;3625:11:55;;;3621:20;;;3653:19;;;3650:39;;;3685:1;3682;3675:12;3650:39;3709:11;;;;3729:142;3745:6;3740:3;3737:15;3729:142;;;3811:17;;3799:30;;3762:12;;;;3849;;;;3729:142;;;3890:6;2787:1115;-1:-1:-1;;;;;;;;2787:1115:55:o;3907:127::-;3968:10;3963:3;3959:20;3956:1;3949:31;3999:4;3996:1;3989:15;4023:4;4020:1;4013:15;4039:168;4112:9;;;4143;;4160:15;;;4154:22;;4140:37;4130:71;;4181:18;;:::i;:::-;4039:168;;;;:::o;5315:184::-;5385:6;5438:2;5426:9;5417:7;5413:23;5409:32;5406:52;;;5454:1;5451;5444:12;5406:52;-1:-1:-1;5477:16:55;;5315:184;-1:-1:-1;5315:184:55:o;5504:135::-;5543:3;5564:17;;;5561:43;;5584:18;;:::i;:::-;-1:-1:-1;5631:1:55;5620:13;;5504:135::o;6830:127::-;6891:10;6886:3;6882:20;6879:1;6872:31;6922:4;6919:1;6912:15;6946:4;6943:1;6936:15;6962:179;7040:13;;7093:22;7082:34;;7072:45;;7062:73;;7131:1;7128;7121:12;7146:473;7249:6;7257;7265;7273;7281;7334:3;7322:9;7313:7;7309:23;7305:33;7302:53;;;7351:1;7348;7341:12;7302:53;7374:39;7403:9;7374:39;:::i;:::-;7364:49;;7453:2;7442:9;7438:18;7432:25;7422:35;;7497:2;7486:9;7482:18;7476:25;7466:35;;7541:2;7530:9;7526:18;7520:25;7510:35;;7564:49;7608:3;7597:9;7593:19;7564:49;:::i;:::-;7554:59;;7146:473;;;;;;;;:::o;8056:217::-;8096:1;8122;8112:132;;8166:10;8161:3;8157:20;8154:1;8147:31;8201:4;8198:1;8191:15;8229:4;8226:1;8219:15;8112:132;-1:-1:-1;8258:9:55;;8056:217::o;8278:128::-;8345:9;;;8366:11;;;8363:37;;;8380:18;;:::i;8411:125::-;8476:9;;;8497:10;;;8494:36;;;8510:18;;:::i;8541:213::-;8576:3;8624:5;8620:2;8609:21;8658:34;8654:39;8645:7;8642:52;8639:78;;8697:18;;:::i;:::-;8737:1;8733:15;;8541:213;-1:-1:-1;;8541:213:55:o;8759:237::-;8831:9;;;8798:7;8856:9;;-1:-1:-1;;;8867:18:55;;8852:34;8849:60;;;8889:18;;:::i;:::-;8962:1;8953:7;8948:16;8945:1;8942:23;8938:1;8931:9;8928:38;8918:72;;8970:18;;:::i;9001:245::-;9068:6;9121:2;9109:9;9100:7;9096:23;9092:32;9089:52;;;9137:1;9134;9127:12;9089:52;9169:9;9163:16;9188:28;9210:5;9188:28;:::i;9251:274::-;-1:-1:-1;;;;;9389:10:55;;;9401;;;9385:27;9432:20;;;;9323:34;9471:24;;;9461:58;;9499:18;;:::i;:::-;9461:58;;9251:274;;;;:::o",
    "linkReferences": {}
  },
  "methodIdentifiers": {
    "chainlinkAggregator()": "5004d36c",
    "closePosition(uint256)": "a126d601",
    "closePositions(uint256[])": "aa93186d",
    "liquidityPool()": "665a11ca",
    "openPosition(uint256,uint256,bool)": "1558c966",
    "positions(uint256)": "99fbab88",
    "protocol()": "8ce74426",
    "setChainlinkAggregator(address)": "ef353917",
    "setLiquidityPool(address)": "01877020",
    "setProtocol(address)": "0a9d793d"
  },
  "rawMetadata": "{\"compiler\":{\"version\":\"0.8.19+commit.7dd6d404\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"contract ILiquidityPool\",\"name\":\"liquidityPool_\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"protocol_\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"chainlinkAggregator_\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"aggregator\",\"type\":\"address\"}],\"name\":\"ChainlinkAggregatorSet\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"liquidityPool\",\"type\":\"address\"}],\"name\":\"LiquidityPoolSet\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"positionId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"closePrice\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"closeDate\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"pnlShares\",\"type\":\"int256\"}],\"name\":\"PositionClosed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"positionId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"collateral\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"shares\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"leverage\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"isLong\",\"type\":\"bool\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"entryPrice\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"liquidationPrice\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"takeProfitPrice\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"openDate\",\"type\":\"uint256\"}],\"name\":\"PositionOpened\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"protocol\",\"type\":\"address\"}],\"name\":\"ProtocolSet\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"protocol\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"protocolShare\",\"type\":\"uint256\"}],\"name\":\"ProtocolShareTaken\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"chainlinkAggregator\",\"outputs\":[{\"internalType\":\"contract AggregatorV3Interface\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"positionId\",\"type\":\"uint256\"}],\"name\":\"closePosition\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256[]\",\"name\":\"positionIds\",\"type\":\"uint256[]\"}],\"name\":\"closePositions\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"liquidityPool\",\"outputs\":[{\"internalType\":\"contract ILiquidityPool\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"collateral\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"leverage\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"isLong\",\"type\":\"bool\"}],\"name\":\"openPosition\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"positions\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"uint128\",\"name\":\"shares\",\"type\":\"uint128\"},{\"internalType\":\"uint32\",\"name\":\"leverage\",\"type\":\"uint32\"},{\"internalType\":\"bool\",\"name\":\"isLong\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"entryPrice\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"protocol\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"aggregator\",\"type\":\"address\"}],\"name\":\"setChainlinkAggregator\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract ILiquidityPool\",\"name\":\"_liquidityPool\",\"type\":\"address\"}],\"name\":\"setLiquidityPool\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_protocol\",\"type\":\"address\"}],\"name\":\"setProtocol\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"constructor\":{\"details\":\"TradePair constructor sets the liquidity pool, protocol, and chainlink aggregator.\"}},\"title\":\"TradePair - A contract for managing leveraged trading positions.\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"chainlinkAggregator()\":{\"notice\":\"The Chainlink aggregator for fetching the asset price.\"},\"closePosition(uint256)\":{\"notice\":\"Allows a trader to close a trading position if it's either 100% in profit or -100% in loss.\"},\"closePositions(uint256[])\":{\"notice\":\"Allows a trader to close multiple trading positions at once.\"},\"liquidityPool()\":{\"notice\":\"The associated liquidity pool.\"},\"openPosition(uint256,uint256,bool)\":{\"notice\":\"Allows a trader to open a leveraged trading position.\"},\"protocol()\":{\"notice\":\"The address of the protocol.\"},\"setChainlinkAggregator(address)\":{\"notice\":\"Sets the Chainlink aggregator for fetching asset prices.\"},\"setLiquidityPool(address)\":{\"notice\":\"Sets the liquidity pool for the contract.\"},\"setProtocol(address)\":{\"notice\":\"Sets the protocol address.\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/TradePair.sol\":\"TradePair\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/=lib/openzeppelin-contracts/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\"]},\"sources\":{\"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol\":{\"keccak256\":\"0x9750c6b834f7b43000631af5cc30001c5f547b3ceb3635488f140f60e897ea6b\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://5a7d5b1ef5d8d5889ad2ed89d8619c09383b80b72ab226e0fe7bde1636481e34\",\"dweb:/ipfs/QmebXWgtEfumQGBdVeM6c71McLixYXQP5Bk6kKXuoY4Bmr\"]},\"src/TradePair.sol\":{\"keccak256\":\"0x64ccbe98533e16d1a0a180e37552c955a34233cb07fcc0e871faccb74ca90c4f\",\"license\":\"UNLICENSED\",\"urls\":[\"bzz-raw://5213423415e7124b3826fa5bb9be0cb658484d3051594d1b39bbf80c9c1fcb3f\",\"dweb:/ipfs/QmRKnwcTghMLXjwcnm5Z661UjULB8RqSDQZkpEPSTkHM8p\"]},\"src/external/AggregatorV3Interface.sol\":{\"keccak256\":\"0xece070c6cb81404d46ebd47ec6d3937fdc6a355847fe2aaaeb8ad0405b66bb40\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://3052fc2d76a9e1f3d47f1d7d87c9c23c8c2d2886e9be3b17b45523a208423008\",\"dweb:/ipfs/Qmf97rypuqoVGXdY2nFx2MynMx1b5PvweGrczcF4SKS6Mn\"]},\"src/interfaces/ILiquidityPool.sol\":{\"keccak256\":\"0x04243697372107f624a49c3547ba2a05cac4a129e2fc617063d0359104da73e0\",\"license\":\"UNLICENSED\",\"urls\":[\"bzz-raw://0819499dddb4838cb13197cc026cc0b341a3b0b5ac6f4b97f59fc92b7d78478d\",\"dweb:/ipfs/Qmewxto8bU9wZhgk7dLdXzDHJKAukHw5PntBTAXZLuK9hn\"]},\"src/interfaces/ITradePair.sol\":{\"keccak256\":\"0xb05ccf4a28395a62c1c2ed584e517e495ccc5a77302667abd5935053e5be3f52\",\"license\":\"UNLICENSED\",\"urls\":[\"bzz-raw://7df4531f5d4de261e503861288cbf91211a072040180cfac5318331d00fb07d9\",\"dweb:/ipfs/Qma9RyYQZvEiUrgx2GGGXj95EMLeWR4eXRu6DZEmFzeHDo\"]}},\"version\":1}",
  "metadata": {
    "compiler": {
      "version": "0.8.19+commit.7dd6d404"
    },
    "language": "Solidity",
    "output": {
      "abi": [
        {
          "inputs": [
            {
              "internalType": "contract ILiquidityPool",
              "name": "liquidityPool_",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "protocol_",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "chainlinkAggregator_",
              "type": "address"
            }
          ],
          "stateMutability": "nonpayable",
          "type": "constructor"
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "aggregator",
              "type": "address",
              "indexed": true
            }
          ],
          "type": "event",
          "name": "ChainlinkAggregatorSet",
          "anonymous": false
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "liquidityPool",
              "type": "address",
              "indexed": true
            }
          ],
          "type": "event",
          "name": "LiquidityPoolSet",
          "anonymous": false
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "trader",
              "type": "address",
              "indexed": true
            },
            {
              "internalType": "uint256",
              "name": "positionId",
              "type": "uint256",
              "indexed": false
            },
            {
              "internalType": "uint256",
              "name": "closePrice",
              "type": "uint256",
              "indexed": false
            },
            {
              "internalType": "uint256",
              "name": "closeDate",
              "type": "uint256",
              "indexed": false
            },
            {
              "internalType": "int256",
              "name": "pnlShares",
              "type": "int256",
              "indexed": false
            }
          ],
          "type": "event",
          "name": "PositionClosed",
          "anonymous": false
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "trader",
              "type": "address",
              "indexed": true
            },
            {
              "internalType": "uint256",
              "name": "positionId",
              "type": "uint256",
              "indexed": false
            },
            {
              "internalType": "uint256",
              "name": "collateral",
              "type": "uint256",
              "indexed": false
            },
            {
              "internalType": "uint256",
              "name": "shares",
              "type": "uint256",
              "indexed": false
            },
            {
              "internalType": "uint256",
              "name": "leverage",
              "type": "uint256",
              "indexed": false
            },
            {
              "internalType": "bool",
              "name": "isLong",
              "type": "bool",
              "indexed": false
            },
            {
              "internalType": "uint256",
              "name": "entryPrice",
              "type": "uint256",
              "indexed": false
            },
            {
              "internalType": "uint256",
              "name": "liquidationPrice",
              "type": "uint256",
              "indexed": false
            },
            {
              "internalType": "uint256",
              "name": "takeProfitPrice",
              "type": "uint256",
              "indexed": false
            },
            {
              "internalType": "uint256",
              "name": "openDate",
              "type": "uint256",
              "indexed": false
            }
          ],
          "type": "event",
          "name": "PositionOpened",
          "anonymous": false
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "protocol",
              "type": "address",
              "indexed": true
            }
          ],
          "type": "event",
          "name": "ProtocolSet",
          "anonymous": false
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "protocol",
              "type": "address",
              "indexed": false
            },
            {
              "internalType": "uint256",
              "name": "protocolShare",
              "type": "uint256",
              "indexed": false
            }
          ],
          "type": "event",
          "name": "ProtocolShareTaken",
          "anonymous": false
        },
        {
          "inputs": [],
          "stateMutability": "view",
          "type": "function",
          "name": "chainlinkAggregator",
          "outputs": [
            {
              "internalType": "contract AggregatorV3Interface",
              "name": "",
              "type": "address"
            }
          ]
        },
        {
          "inputs": [
            {
              "internalType": "uint256",
              "name": "positionId",
              "type": "uint256"
            }
          ],
          "stateMutability": "nonpayable",
          "type": "function",
          "name": "closePosition"
        },
        {
          "inputs": [
            {
              "internalType": "uint256[]",
              "name": "positionIds",
              "type": "uint256[]"
            }
          ],
          "stateMutability": "nonpayable",
          "type": "function",
          "name": "closePositions"
        },
        {
          "inputs": [],
          "stateMutability": "view",
          "type": "function",
          "name": "liquidityPool",
          "outputs": [
            {
              "internalType": "contract ILiquidityPool",
              "name": "",
              "type": "address"
            }
          ]
        },
        {
          "inputs": [
            {
              "internalType": "uint256",
              "name": "collateral",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "leverage",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "isLong",
              "type": "bool"
            }
          ],
          "stateMutability": "nonpayable",
          "type": "function",
          "name": "openPosition"
        },
        {
          "inputs": [
            {
              "internalType": "uint256",
              "name": "",
              "type": "uint256"
            }
          ],
          "stateMutability": "view",
          "type": "function",
          "name": "positions",
          "outputs": [
            {
              "internalType": "address",
              "name": "trader",
              "type": "address"
            },
            {
              "internalType": "uint128",
              "name": "shares",
              "type": "uint128"
            },
            {
              "internalType": "uint32",
              "name": "leverage",
              "type": "uint32"
            },
            {
              "internalType": "bool",
              "name": "isLong",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "entryPrice",
              "type": "uint256"
            }
          ]
        },
        {
          "inputs": [],
          "stateMutability": "view",
          "type": "function",
          "name": "protocol",
          "outputs": [
            {
              "internalType": "address",
              "name": "",
              "type": "address"
            }
          ]
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "aggregator",
              "type": "address"
            }
          ],
          "stateMutability": "nonpayable",
          "type": "function",
          "name": "setChainlinkAggregator"
        },
        {
          "inputs": [
            {
              "internalType": "contract ILiquidityPool",
              "name": "_liquidityPool",
              "type": "address"
            }
          ],
          "stateMutability": "nonpayable",
          "type": "function",
          "name": "setLiquidityPool"
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "_protocol",
              "type": "address"
            }
          ],
          "stateMutability": "nonpayable",
          "type": "function",
          "name": "setProtocol"
        }
      ],
      "devdoc": {
        "kind": "dev",
        "methods": {
          "constructor": {
            "details": "TradePair constructor sets the liquidity pool, protocol, and chainlink aggregator."
          }
        },
        "version": 1
      },
      "userdoc": {
        "kind": "user",
        "methods": {
          "chainlinkAggregator()": {
            "notice": "The Chainlink aggregator for fetching the asset price."
          },
          "closePosition(uint256)": {
            "notice": "Allows a trader to close a trading position if it's either 100% in profit or -100% in loss."
          },
          "closePositions(uint256[])": {
            "notice": "Allows a trader to close multiple trading positions at once."
          },
          "liquidityPool()": {
            "notice": "The associated liquidity pool."
          },
          "openPosition(uint256,uint256,bool)": {
            "notice": "Allows a trader to open a leveraged trading position."
          },
          "protocol()": {
            "notice": "The address of the protocol."
          },
          "setChainlinkAggregator(address)": {
            "notice": "Sets the Chainlink aggregator for fetching asset prices."
          },
          "setLiquidityPool(address)": {
            "notice": "Sets the liquidity pool for the contract."
          },
          "setProtocol(address)": {
            "notice": "Sets the protocol address."
          }
        },
        "version": 1
      }
    },
    "settings": {
      "remappings": [
        ":@openzeppelin/=lib/openzeppelin-contracts/",
        ":ds-test/=lib/forge-std/lib/ds-test/src/",
        ":forge-std/=lib/forge-std/src/",
        ":openzeppelin-contracts/=lib/openzeppelin-contracts/"
      ],
      "optimizer": {
        "enabled": true,
        "runs": 200
      },
      "metadata": {
        "bytecodeHash": "ipfs"
      },
      "compilationTarget": {
        "src/TradePair.sol": "TradePair"
      },
      "libraries": {}
    },
    "sources": {
      "lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol": {
        "keccak256": "0x9750c6b834f7b43000631af5cc30001c5f547b3ceb3635488f140f60e897ea6b",
        "urls": [
          "bzz-raw://5a7d5b1ef5d8d5889ad2ed89d8619c09383b80b72ab226e0fe7bde1636481e34",
          "dweb:/ipfs/QmebXWgtEfumQGBdVeM6c71McLixYXQP5Bk6kKXuoY4Bmr"
        ],
        "license": "MIT"
      },
      "src/TradePair.sol": {
        "keccak256": "0x64ccbe98533e16d1a0a180e37552c955a34233cb07fcc0e871faccb74ca90c4f",
        "urls": [
          "bzz-raw://5213423415e7124b3826fa5bb9be0cb658484d3051594d1b39bbf80c9c1fcb3f",
          "dweb:/ipfs/QmRKnwcTghMLXjwcnm5Z661UjULB8RqSDQZkpEPSTkHM8p"
        ],
        "license": "UNLICENSED"
      },
      "src/external/AggregatorV3Interface.sol": {
        "keccak256": "0xece070c6cb81404d46ebd47ec6d3937fdc6a355847fe2aaaeb8ad0405b66bb40",
        "urls": [
          "bzz-raw://3052fc2d76a9e1f3d47f1d7d87c9c23c8c2d2886e9be3b17b45523a208423008",
          "dweb:/ipfs/Qmf97rypuqoVGXdY2nFx2MynMx1b5PvweGrczcF4SKS6Mn"
        ],
        "license": "MIT"
      },
      "src/interfaces/ILiquidityPool.sol": {
        "keccak256": "0x04243697372107f624a49c3547ba2a05cac4a129e2fc617063d0359104da73e0",
        "urls": [
          "bzz-raw://0819499dddb4838cb13197cc026cc0b341a3b0b5ac6f4b97f59fc92b7d78478d",
          "dweb:/ipfs/Qmewxto8bU9wZhgk7dLdXzDHJKAukHw5PntBTAXZLuK9hn"
        ],
        "license": "UNLICENSED"
      },
      "src/interfaces/ITradePair.sol": {
        "keccak256": "0xb05ccf4a28395a62c1c2ed584e517e495ccc5a77302667abd5935053e5be3f52",
        "urls": [
          "bzz-raw://7df4531f5d4de261e503861288cbf91211a072040180cfac5318331d00fb07d9",
          "dweb:/ipfs/Qma9RyYQZvEiUrgx2GGGXj95EMLeWR4eXRu6DZEmFzeHDo"
        ],
        "license": "UNLICENSED"
      }
    },
    "version": 1
  },
  "ast": {
    "absolutePath": "src/TradePair.sol",
    "id": 33716,
    "exportedSymbols": {
      "AggregatorV3Interface": [
        33761
      ],
      "IERC20": [
        30713
      ],
      "ILiquidityPool": [
        33868
      ],
      "ITradePair": [
        33976
      ],
      "Position": [
        33882
      ],
      "TradePair": [
        33715
      ]
    },
    "nodeType": "SourceUnit",
    "src": "39:6400:39",
    "nodes": [
      {
        "id": 33169,
        "nodeType": "PragmaDirective",
        "src": "39:24:39",
        "nodes": [],
        "literals": [
          "solidity",
          "^",
          "0.8",
          ".19"
        ]
      },
      {
        "id": 33170,
        "nodeType": "ImportDirective",
        "src": "65:37:39",
        "nodes": [],
        "absolutePath": "src/interfaces/ITradePair.sol",
        "file": "./interfaces/ITradePair.sol",
        "nameLocation": "-1:-1:-1",
        "scope": 33716,
        "sourceUnit": 33977,
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "id": 33171,
        "nodeType": "ImportDirective",
        "src": "103:41:39",
        "nodes": [],
        "absolutePath": "src/interfaces/ILiquidityPool.sol",
        "file": "./interfaces/ILiquidityPool.sol",
        "nameLocation": "-1:-1:-1",
        "scope": 33716,
        "sourceUnit": 33869,
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "id": 33172,
        "nodeType": "ImportDirective",
        "src": "145:46:39",
        "nodes": [],
        "absolutePath": "src/external/AggregatorV3Interface.sol",
        "file": "./external/AggregatorV3Interface.sol",
        "nameLocation": "-1:-1:-1",
        "scope": 33716,
        "sourceUnit": 33762,
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "id": 33715,
        "nodeType": "ContractDefinition",
        "src": "269:6169:39",
        "nodes": [
          {
            "id": 33178,
            "nodeType": "VariableDeclaration",
            "src": "308:40:39",
            "nodes": [],
            "constant": true,
            "mutability": "constant",
            "name": "PRECISION",
            "nameLocation": "333:9:39",
            "scope": 33715,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_uint256",
              "typeString": "uint256"
            },
            "typeName": {
              "id": 33176,
              "name": "uint256",
              "nodeType": "ElementaryTypeName",
              "src": "308:7:39",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            },
            "value": {
              "hexValue": "316536",
              "id": 33177,
              "isConstant": false,
              "isLValue": false,
              "isPure": true,
              "kind": "number",
              "lValueRequested": false,
              "nodeType": "Literal",
              "src": "345:3:39",
              "typeDescriptions": {
                "typeIdentifier": "t_rational_1000000_by_1",
                "typeString": "int_const 1000000"
              },
              "value": "1e6"
            },
            "visibility": "private"
          },
          {
            "id": 33183,
            "nodeType": "VariableDeclaration",
            "src": "354:47:39",
            "nodes": [],
            "constant": true,
            "mutability": "constant",
            "name": "MAX_LEVERAGE",
            "nameLocation": "371:12:39",
            "scope": 33715,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_uint256",
              "typeString": "uint256"
            },
            "typeName": {
              "id": 33179,
              "name": "uint256",
              "nodeType": "ElementaryTypeName",
              "src": "354:7:39",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            },
            "value": {
              "commonType": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              },
              "id": 33182,
              "isConstant": false,
              "isLValue": false,
              "isPure": true,
              "lValueRequested": false,
              "leftExpression": {
                "hexValue": "313030",
                "id": 33180,
                "isConstant": false,
                "isLValue": false,
                "isPure": true,
                "kind": "number",
                "lValueRequested": false,
                "nodeType": "Literal",
                "src": "386:3:39",
                "typeDescriptions": {
                  "typeIdentifier": "t_rational_100_by_1",
                  "typeString": "int_const 100"
                },
                "value": "100"
              },
              "nodeType": "BinaryOperation",
              "operator": "*",
              "rightExpression": {
                "id": 33181,
                "name": "PRECISION",
                "nodeType": "Identifier",
                "overloadedDeclarations": [],
                "referencedDeclaration": 33178,
                "src": "392:9:39",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                }
              },
              "src": "386:15:39",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            },
            "visibility": "internal"
          },
          {
            "id": 33188,
            "nodeType": "VariableDeclaration",
            "src": "407:45:39",
            "nodes": [],
            "constant": true,
            "mutability": "constant",
            "name": "MIN_LEVERAGE",
            "nameLocation": "424:12:39",
            "scope": 33715,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_uint256",
              "typeString": "uint256"
            },
            "typeName": {
              "id": 33184,
              "name": "uint256",
              "nodeType": "ElementaryTypeName",
              "src": "407:7:39",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            },
            "value": {
              "commonType": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              },
              "id": 33187,
              "isConstant": false,
              "isLValue": false,
              "isPure": true,
              "lValueRequested": false,
              "leftExpression": {
                "hexValue": "35",
                "id": 33185,
                "isConstant": false,
                "isLValue": false,
                "isPure": true,
                "kind": "number",
                "lValueRequested": false,
                "nodeType": "Literal",
                "src": "439:1:39",
                "typeDescriptions": {
                  "typeIdentifier": "t_rational_5_by_1",
                  "typeString": "int_const 5"
                },
                "value": "5"
              },
              "nodeType": "BinaryOperation",
              "operator": "*",
              "rightExpression": {
                "id": 33186,
                "name": "PRECISION",
                "nodeType": "Identifier",
                "overloadedDeclarations": [],
                "referencedDeclaration": 33178,
                "src": "443:9:39",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                }
              },
              "src": "439:13:39",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            },
            "visibility": "internal"
          },
          {
            "id": 33193,
            "nodeType": "VariableDeclaration",
            "src": "459:43:39",
            "nodes": [],
            "constant": true,
            "mutability": "constant",
            "name": "MIN_COLLATERAL",
            "nameLocation": "476:14:39",
            "scope": 33715,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_uint256",
              "typeString": "uint256"
            },
            "typeName": {
              "id": 33189,
              "name": "uint256",
              "nodeType": "ElementaryTypeName",
              "src": "459:7:39",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            },
            "value": {
              "commonType": {
                "typeIdentifier": "t_rational_10000000_by_1",
                "typeString": "int_const 10000000"
              },
              "id": 33192,
              "isConstant": false,
              "isLValue": false,
              "isPure": true,
              "lValueRequested": false,
              "leftExpression": {
                "hexValue": "315f30",
                "id": 33190,
                "isConstant": false,
                "isLValue": false,
                "isPure": true,
                "kind": "number",
                "lValueRequested": false,
                "nodeType": "Literal",
                "src": "493:3:39",
                "typeDescriptions": {
                  "typeIdentifier": "t_rational_10_by_1",
                  "typeString": "int_const 10"
                },
                "value": "1_0"
              },
              "nodeType": "BinaryOperation",
              "operator": "*",
              "rightExpression": {
                "hexValue": "316536",
                "id": 33191,
                "isConstant": false,
                "isLValue": false,
                "isPure": true,
                "kind": "number",
                "lValueRequested": false,
                "nodeType": "Literal",
                "src": "499:3:39",
                "typeDescriptions": {
                  "typeIdentifier": "t_rational_1000000_by_1",
                  "typeString": "int_const 1000000"
                },
                "value": "1e6"
              },
              "src": "493:9:39",
              "typeDescriptions": {
                "typeIdentifier": "t_rational_10000000_by_1",
                "typeString": "int_const 10000000"
              }
            },
            "visibility": "internal"
          },
          {
            "id": 33198,
            "nodeType": "VariableDeclaration",
            "src": "508:49:39",
            "nodes": [],
            "constant": true,
            "mutability": "constant",
            "name": "MAX_COLLATERAL",
            "nameLocation": "525:14:39",
            "scope": 33715,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_uint256",
              "typeString": "uint256"
            },
            "typeName": {
              "id": 33194,
              "name": "uint256",
              "nodeType": "ElementaryTypeName",
              "src": "508:7:39",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            },
            "value": {
              "commonType": {
                "typeIdentifier": "t_rational_1000000000000_by_1",
                "typeString": "int_const 1000000000000"
              },
              "id": 33197,
              "isConstant": false,
              "isLValue": false,
              "isPure": true,
              "lValueRequested": false,
              "leftExpression": {
                "hexValue": "315f3030305f303030",
                "id": 33195,
                "isConstant": false,
                "isLValue": false,
                "isPure": true,
                "kind": "number",
                "lValueRequested": false,
                "nodeType": "Literal",
                "src": "542:9:39",
                "typeDescriptions": {
                  "typeIdentifier": "t_rational_1000000_by_1",
                  "typeString": "int_const 1000000"
                },
                "value": "1_000_000"
              },
              "nodeType": "BinaryOperation",
              "operator": "*",
              "rightExpression": {
                "hexValue": "316536",
                "id": 33196,
                "isConstant": false,
                "isLValue": false,
                "isPure": true,
                "kind": "number",
                "lValueRequested": false,
                "nodeType": "Literal",
                "src": "554:3:39",
                "typeDescriptions": {
                  "typeIdentifier": "t_rational_1000000_by_1",
                  "typeString": "int_const 1000000"
                },
                "value": "1e6"
              },
              "src": "542:15:39",
              "typeDescriptions": {
                "typeIdentifier": "t_rational_1000000000000_by_1",
                "typeString": "int_const 1000000000000"
              }
            },
            "visibility": "internal"
          },
          {
            "id": 33205,
            "nodeType": "VariableDeclaration",
            "src": "564:33:39",
            "nodes": [],
            "constant": false,
            "mutability": "mutable",
            "name": "fee",
            "nameLocation": "572:3:39",
            "scope": 33715,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_uint256",
              "typeString": "uint256"
            },
            "typeName": {
              "id": 33199,
              "name": "uint256",
              "nodeType": "ElementaryTypeName",
              "src": "564:7:39",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            },
            "value": {
              "commonType": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              },
              "id": 33204,
              "isConstant": false,
              "isLValue": false,
              "isPure": true,
              "lValueRequested": false,
              "leftExpression": {
                "commonType": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                },
                "id": 33202,
                "isConstant": false,
                "isLValue": false,
                "isPure": true,
                "lValueRequested": false,
                "leftExpression": {
                  "id": 33200,
                  "name": "PRECISION",
                  "nodeType": "Identifier",
                  "overloadedDeclarations": [],
                  "referencedDeclaration": 33178,
                  "src": "578:9:39",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  }
                },
                "nodeType": "BinaryOperation",
                "operator": "*",
                "rightExpression": {
                  "hexValue": "31",
                  "id": 33201,
                  "isConstant": false,
                  "isLValue": false,
                  "isPure": true,
                  "kind": "number",
                  "lValueRequested": false,
                  "nodeType": "Literal",
                  "src": "590:1:39",
                  "typeDescriptions": {
                    "typeIdentifier": "t_rational_1_by_1",
                    "typeString": "int_const 1"
                  },
                  "value": "1"
                },
                "src": "578:13:39",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                }
              },
              "nodeType": "BinaryOperation",
              "operator": "/",
              "rightExpression": {
                "hexValue": "313030",
                "id": 33203,
                "isConstant": false,
                "isLValue": false,
                "isPure": true,
                "kind": "number",
                "lValueRequested": false,
                "nodeType": "Literal",
                "src": "594:3:39",
                "typeDescriptions": {
                  "typeIdentifier": "t_rational_100_by_1",
                  "typeString": "int_const 100"
                },
                "value": "100"
              },
              "src": "578:19:39",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            },
            "visibility": "internal"
          },
          {
            "id": 33207,
            "nodeType": "VariableDeclaration",
            "src": "604:31:39",
            "nodes": [],
            "constant": false,
            "mutability": "mutable",
            "name": "positionCounter",
            "nameLocation": "620:15:39",
            "scope": 33715,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_uint256",
              "typeString": "uint256"
            },
            "typeName": {
              "id": 33206,
              "name": "uint256",
              "nodeType": "ElementaryTypeName",
              "src": "604:7:39",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            },
            "visibility": "private"
          },
          {
            "id": 33211,
            "nodeType": "VariableDeclaration",
            "src": "689:35:39",
            "nodes": [],
            "constant": false,
            "documentation": {
              "id": 33208,
              "nodeType": "StructuredDocumentation",
              "src": "642:42:39",
              "text": "@notice The associated liquidity pool."
            },
            "functionSelector": "665a11ca",
            "mutability": "mutable",
            "name": "liquidityPool",
            "nameLocation": "711:13:39",
            "scope": 33715,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_contract$_ILiquidityPool_$33868",
              "typeString": "contract ILiquidityPool"
            },
            "typeName": {
              "id": 33210,
              "nodeType": "UserDefinedTypeName",
              "pathNode": {
                "id": 33209,
                "name": "ILiquidityPool",
                "nameLocations": [
                  "689:14:39"
                ],
                "nodeType": "IdentifierPath",
                "referencedDeclaration": 33868,
                "src": "689:14:39"
              },
              "referencedDeclaration": 33868,
              "src": "689:14:39",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_ILiquidityPool_$33868",
                "typeString": "contract ILiquidityPool"
              }
            },
            "visibility": "public"
          },
          {
            "id": 33214,
            "nodeType": "VariableDeclaration",
            "src": "776:23:39",
            "nodes": [],
            "baseFunctions": [
              33923
            ],
            "constant": false,
            "documentation": {
              "id": 33212,
              "nodeType": "StructuredDocumentation",
              "src": "731:40:39",
              "text": "@notice The address of the protocol."
            },
            "functionSelector": "8ce74426",
            "mutability": "mutable",
            "name": "protocol",
            "nameLocation": "791:8:39",
            "scope": 33715,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_address",
              "typeString": "address"
            },
            "typeName": {
              "id": 33213,
              "name": "address",
              "nodeType": "ElementaryTypeName",
              "src": "776:7:39",
              "stateMutability": "nonpayable",
              "typeDescriptions": {
                "typeIdentifier": "t_address",
                "typeString": "address"
              }
            },
            "visibility": "public"
          },
          {
            "id": 33219,
            "nodeType": "VariableDeclaration",
            "src": "806:45:39",
            "nodes": [],
            "constant": false,
            "functionSelector": "99fbab88",
            "mutability": "mutable",
            "name": "positions",
            "nameLocation": "842:9:39",
            "scope": 33715,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_mapping$_t_uint256_$_t_struct$_Position_$33882_storage_$",
              "typeString": "mapping(uint256 => struct Position)"
            },
            "typeName": {
              "id": 33218,
              "keyName": "",
              "keyNameLocation": "-1:-1:-1",
              "keyType": {
                "id": 33215,
                "name": "uint256",
                "nodeType": "ElementaryTypeName",
                "src": "814:7:39",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                }
              },
              "nodeType": "Mapping",
              "src": "806:28:39",
              "typeDescriptions": {
                "typeIdentifier": "t_mapping$_t_uint256_$_t_struct$_Position_$33882_storage_$",
                "typeString": "mapping(uint256 => struct Position)"
              },
              "valueName": "",
              "valueNameLocation": "-1:-1:-1",
              "valueType": {
                "id": 33217,
                "nodeType": "UserDefinedTypeName",
                "pathNode": {
                  "id": 33216,
                  "name": "Position",
                  "nameLocations": [
                    "825:8:39"
                  ],
                  "nodeType": "IdentifierPath",
                  "referencedDeclaration": 33882,
                  "src": "825:8:39"
                },
                "referencedDeclaration": 33882,
                "src": "825:8:39",
                "typeDescriptions": {
                  "typeIdentifier": "t_struct$_Position_$33882_storage_ptr",
                  "typeString": "struct Position"
                }
              }
            },
            "visibility": "public"
          },
          {
            "id": 33223,
            "nodeType": "VariableDeclaration",
            "src": "929:48:39",
            "nodes": [],
            "constant": false,
            "documentation": {
              "id": 33220,
              "nodeType": "StructuredDocumentation",
              "src": "858:66:39",
              "text": "@notice The Chainlink aggregator for fetching the asset price."
            },
            "functionSelector": "5004d36c",
            "mutability": "mutable",
            "name": "chainlinkAggregator",
            "nameLocation": "958:19:39",
            "scope": 33715,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_contract$_AggregatorV3Interface_$33761",
              "typeString": "contract AggregatorV3Interface"
            },
            "typeName": {
              "id": 33222,
              "nodeType": "UserDefinedTypeName",
              "pathNode": {
                "id": 33221,
                "name": "AggregatorV3Interface",
                "nameLocations": [
                  "929:21:39"
                ],
                "nodeType": "IdentifierPath",
                "referencedDeclaration": 33761,
                "src": "929:21:39"
              },
              "referencedDeclaration": 33761,
              "src": "929:21:39",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_AggregatorV3Interface_$33761",
                "typeString": "contract AggregatorV3Interface"
              }
            },
            "visibility": "public"
          },
          {
            "id": 33247,
            "nodeType": "FunctionDefinition",
            "src": "1080:227:39",
            "nodes": [],
            "body": {
              "id": 33246,
              "nodeType": "Block",
              "src": "1172:135:39",
              "nodes": [],
              "statements": [
                {
                  "expression": {
                    "arguments": [
                      {
                        "id": 33235,
                        "name": "liquidityPool_",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 33227,
                        "src": "1199:14:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_contract$_ILiquidityPool_$33868",
                          "typeString": "contract ILiquidityPool"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_contract$_ILiquidityPool_$33868",
                          "typeString": "contract ILiquidityPool"
                        }
                      ],
                      "id": 33234,
                      "name": "setLiquidityPool",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 33595,
                      "src": "1182:16:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_nonpayable$_t_contract$_ILiquidityPool_$33868_$returns$__$",
                        "typeString": "function (contract ILiquidityPool)"
                      }
                    },
                    "id": 33236,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1182:32:39",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 33237,
                  "nodeType": "ExpressionStatement",
                  "src": "1182:32:39"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "id": 33239,
                        "name": "protocol_",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 33229,
                        "src": "1236:9:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      ],
                      "id": 33238,
                      "name": "setProtocol",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 33610,
                      "src": "1224:11:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_nonpayable$_t_address_$returns$__$",
                        "typeString": "function (address)"
                      }
                    },
                    "id": 33240,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1224:22:39",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 33241,
                  "nodeType": "ExpressionStatement",
                  "src": "1224:22:39"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "id": 33243,
                        "name": "chainlinkAggregator_",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 33231,
                        "src": "1279:20:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      ],
                      "id": 33242,
                      "name": "setChainlinkAggregator",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 33630,
                      "src": "1256:22:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_nonpayable$_t_address_$returns$__$",
                        "typeString": "function (address)"
                      }
                    },
                    "id": 33244,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1256:44:39",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 33245,
                  "nodeType": "ExpressionStatement",
                  "src": "1256:44:39"
                }
              ]
            },
            "documentation": {
              "id": 33224,
              "nodeType": "StructuredDocumentation",
              "src": "984:91:39",
              "text": "@dev TradePair constructor sets the liquidity pool, protocol, and chainlink aggregator."
            },
            "implemented": true,
            "kind": "constructor",
            "modifiers": [],
            "name": "",
            "nameLocation": "-1:-1:-1",
            "parameters": {
              "id": 33232,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 33227,
                  "mutability": "mutable",
                  "name": "liquidityPool_",
                  "nameLocation": "1107:14:39",
                  "nodeType": "VariableDeclaration",
                  "scope": 33247,
                  "src": "1092:29:39",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_contract$_ILiquidityPool_$33868",
                    "typeString": "contract ILiquidityPool"
                  },
                  "typeName": {
                    "id": 33226,
                    "nodeType": "UserDefinedTypeName",
                    "pathNode": {
                      "id": 33225,
                      "name": "ILiquidityPool",
                      "nameLocations": [
                        "1092:14:39"
                      ],
                      "nodeType": "IdentifierPath",
                      "referencedDeclaration": 33868,
                      "src": "1092:14:39"
                    },
                    "referencedDeclaration": 33868,
                    "src": "1092:14:39",
                    "typeDescriptions": {
                      "typeIdentifier": "t_contract$_ILiquidityPool_$33868",
                      "typeString": "contract ILiquidityPool"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 33229,
                  "mutability": "mutable",
                  "name": "protocol_",
                  "nameLocation": "1131:9:39",
                  "nodeType": "VariableDeclaration",
                  "scope": 33247,
                  "src": "1123:17:39",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 33228,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "1123:7:39",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 33231,
                  "mutability": "mutable",
                  "name": "chainlinkAggregator_",
                  "nameLocation": "1150:20:39",
                  "nodeType": "VariableDeclaration",
                  "scope": 33247,
                  "src": "1142:28:39",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 33230,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "1142:7:39",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "1091:80:39"
            },
            "returnParameters": {
              "id": 33233,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "1172:0:39"
            },
            "scope": 33715,
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "public"
          },
          {
            "id": 33347,
            "nodeType": "FunctionDefinition",
            "src": "1383:1090:39",
            "nodes": [],
            "body": {
              "id": 33346,
              "nodeType": "Block",
              "src": "1465:1008:39",
              "nodes": [],
              "statements": [
                {
                  "expression": {
                    "arguments": [
                      {
                        "commonType": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        "id": 33264,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 33260,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "id": 33258,
                            "name": "leverage",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 33252,
                            "src": "1483:8:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": ">=",
                          "rightExpression": {
                            "id": 33259,
                            "name": "MIN_LEVERAGE",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 33188,
                            "src": "1495:12:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "1483:24:39",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "&&",
                        "rightExpression": {
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 33263,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "id": 33261,
                            "name": "leverage",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 33252,
                            "src": "1511:8:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "<=",
                          "rightExpression": {
                            "id": 33262,
                            "name": "MAX_LEVERAGE",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 33183,
                            "src": "1523:12:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "1511:24:39",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "src": "1483:52:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "hexValue": "5472616465506169723a3a6f70656e506f736974696f6e3a20496e76616c6964206c657665726167652e",
                        "id": 33265,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "1537:44:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_ebb7f8cedddea2d0d6cd098744a2a0597c7ac96f8b440d9cea6bb495390f5ed3",
                          "typeString": "literal_string \"TradePair::openPosition: Invalid leverage.\""
                        },
                        "value": "TradePair::openPosition: Invalid leverage."
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_ebb7f8cedddea2d0d6cd098744a2a0597c7ac96f8b440d9cea6bb495390f5ed3",
                          "typeString": "literal_string \"TradePair::openPosition: Invalid leverage.\""
                        }
                      ],
                      "id": 33257,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        -18,
                        -18
                      ],
                      "referencedDeclaration": -18,
                      "src": "1475:7:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 33266,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1475:107:39",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 33267,
                  "nodeType": "ExpressionStatement",
                  "src": "1475:107:39"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "commonType": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        "id": 33275,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 33271,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "id": 33269,
                            "name": "collateral",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 33250,
                            "src": "1613:10:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": ">=",
                          "rightExpression": {
                            "id": 33270,
                            "name": "MIN_COLLATERAL",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 33193,
                            "src": "1627:14:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "1613:28:39",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "&&",
                        "rightExpression": {
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 33274,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "id": 33272,
                            "name": "collateral",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 33250,
                            "src": "1645:10:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "<=",
                          "rightExpression": {
                            "id": 33273,
                            "name": "MAX_COLLATERAL",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 33198,
                            "src": "1659:14:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "1645:28:39",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "src": "1613:60:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "hexValue": "5472616465506169723a3a6f70656e506f736974696f6e3a20496e76616c696420636f6c6c61746572616c2e",
                        "id": 33276,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "1675:46:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_8160517218f794398a54bb53f7fba435910c25b3d344a3f38ad5c4212a0bf7f2",
                          "typeString": "literal_string \"TradePair::openPosition: Invalid collateral.\""
                        },
                        "value": "TradePair::openPosition: Invalid collateral."
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_8160517218f794398a54bb53f7fba435910c25b3d344a3f38ad5c4212a0bf7f2",
                          "typeString": "literal_string \"TradePair::openPosition: Invalid collateral.\""
                        }
                      ],
                      "id": 33268,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        -18,
                        -18
                      ],
                      "referencedDeclaration": -18,
                      "src": "1592:7:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 33277,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1592:139:39",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 33278,
                  "nodeType": "ExpressionStatement",
                  "src": "1592:139:39"
                },
                {
                  "assignments": [
                    33280
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 33280,
                      "mutability": "mutable",
                      "name": "entryPrice",
                      "nameLocation": "1750:10:39",
                      "nodeType": "VariableDeclaration",
                      "scope": 33346,
                      "src": "1742:18:39",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 33279,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "1742:7:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 33283,
                  "initialValue": {
                    "arguments": [],
                    "expression": {
                      "argumentTypes": [],
                      "id": 33281,
                      "name": "_getCurrentPrice",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 33655,
                      "src": "1763:16:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_view$__$returns$_t_uint256_$",
                        "typeString": "function () view returns (uint256)"
                      }
                    },
                    "id": 33282,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1763:18:39",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "1742:39:39"
                },
                {
                  "assignments": [
                    33285,
                    33287
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 33285,
                      "mutability": "mutable",
                      "name": "liquidationPrice",
                      "nameLocation": "1800:16:39",
                      "nodeType": "VariableDeclaration",
                      "scope": 33346,
                      "src": "1792:24:39",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 33284,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "1792:7:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "visibility": "internal"
                    },
                    {
                      "constant": false,
                      "id": 33287,
                      "mutability": "mutable",
                      "name": "takeProfitPrice",
                      "nameLocation": "1826:15:39",
                      "nodeType": "VariableDeclaration",
                      "scope": 33346,
                      "src": "1818:23:39",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 33286,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "1818:7:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 33293,
                  "initialValue": {
                    "arguments": [
                      {
                        "id": 33289,
                        "name": "entryPrice",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 33280,
                        "src": "1868:10:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "id": 33290,
                        "name": "leverage",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 33252,
                        "src": "1880:8:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "id": 33291,
                        "name": "isLong",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 33254,
                        "src": "1890:6:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      ],
                      "id": 33288,
                      "name": "_calculatePriceTargets",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 33714,
                      "src": "1845:22:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_pure$_t_uint256_$_t_uint256_$_t_bool_$returns$_t_uint256_$_t_uint256_$",
                        "typeString": "function (uint256,uint256,bool) pure returns (uint256,uint256)"
                      }
                    },
                    "id": 33292,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1845:52:39",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$_t_uint256_$_t_uint256_$",
                      "typeString": "tuple(uint256,uint256)"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "1791:106:39"
                },
                {
                  "assignments": [
                    33295
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 33295,
                      "mutability": "mutable",
                      "name": "openDate",
                      "nameLocation": "1915:8:39",
                      "nodeType": "VariableDeclaration",
                      "scope": 33346,
                      "src": "1907:16:39",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 33294,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "1907:7:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 33298,
                  "initialValue": {
                    "expression": {
                      "id": 33296,
                      "name": "block",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": -4,
                      "src": "1926:5:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_magic_block",
                        "typeString": "block"
                      }
                    },
                    "id": 33297,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "memberLocation": "1932:9:39",
                    "memberName": "timestamp",
                    "nodeType": "MemberAccess",
                    "src": "1926:15:39",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "1907:34:39"
                },
                {
                  "assignments": [
                    33300
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 33300,
                      "mutability": "mutable",
                      "name": "shares",
                      "nameLocation": "1960:6:39",
                      "nodeType": "VariableDeclaration",
                      "scope": 33346,
                      "src": "1952:14:39",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 33299,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "1952:7:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 33309,
                  "initialValue": {
                    "arguments": [
                      {
                        "expression": {
                          "id": 33305,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": -15,
                          "src": "2017:3:39",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 33306,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "2021:6:39",
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "src": "2017:10:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "id": 33307,
                        "name": "collateral",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 33250,
                        "src": "2029:10:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "expression": {
                        "arguments": [
                          {
                            "id": 33302,
                            "name": "liquidityPool",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 33211,
                            "src": "1984:13:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_contract$_ILiquidityPool_$33868",
                              "typeString": "contract ILiquidityPool"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_contract$_ILiquidityPool_$33868",
                              "typeString": "contract ILiquidityPool"
                            }
                          ],
                          "id": 33301,
                          "name": "ILiquidityPool",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 33868,
                          "src": "1969:14:39",
                          "typeDescriptions": {
                            "typeIdentifier": "t_type$_t_contract$_ILiquidityPool_$33868_$",
                            "typeString": "type(contract ILiquidityPool)"
                          }
                        },
                        "id": 33303,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "typeConversion",
                        "lValueRequested": false,
                        "nameLocations": [],
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "1969:29:39",
                        "tryCall": false,
                        "typeDescriptions": {
                          "typeIdentifier": "t_contract$_ILiquidityPool_$33868",
                          "typeString": "contract ILiquidityPool"
                        }
                      },
                      "id": 33304,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberLocation": "1999:17:39",
                      "memberName": "depositCollateral",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 33799,
                      "src": "1969:47:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_uint256_$",
                        "typeString": "function (address,uint256) external returns (uint256)"
                      }
                    },
                    "id": 33308,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1969:71:39",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "1952:88:39"
                },
                {
                  "expression": {
                    "id": 33311,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "UnaryOperation",
                    "operator": "++",
                    "prefix": false,
                    "src": "2051:17:39",
                    "subExpression": {
                      "id": 33310,
                      "name": "positionCounter",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 33207,
                      "src": "2051:15:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 33312,
                  "nodeType": "ExpressionStatement",
                  "src": "2051:17:39"
                },
                {
                  "expression": {
                    "id": 33330,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "baseExpression": {
                        "id": 33313,
                        "name": "positions",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 33219,
                        "src": "2078:9:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_mapping$_t_uint256_$_t_struct$_Position_$33882_storage_$",
                          "typeString": "mapping(uint256 => struct Position storage ref)"
                        }
                      },
                      "id": 33315,
                      "indexExpression": {
                        "id": 33314,
                        "name": "positionCounter",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 33207,
                        "src": "2088:15:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "nodeType": "IndexAccess",
                      "src": "2078:26:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Position_$33882_storage",
                        "typeString": "struct Position storage ref"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "arguments": [
                        {
                          "expression": {
                            "id": 33317,
                            "name": "msg",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": -15,
                            "src": "2116:3:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_magic_message",
                              "typeString": "msg"
                            }
                          },
                          "id": 33318,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberLocation": "2120:6:39",
                          "memberName": "sender",
                          "nodeType": "MemberAccess",
                          "src": "2116:10:39",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        },
                        {
                          "arguments": [
                            {
                              "id": 33321,
                              "name": "shares",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 33300,
                              "src": "2136:6:39",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            ],
                            "id": 33320,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "lValueRequested": false,
                            "nodeType": "ElementaryTypeNameExpression",
                            "src": "2128:7:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_type$_t_uint128_$",
                              "typeString": "type(uint128)"
                            },
                            "typeName": {
                              "id": 33319,
                              "name": "uint128",
                              "nodeType": "ElementaryTypeName",
                              "src": "2128:7:39",
                              "typeDescriptions": {}
                            }
                          },
                          "id": 33322,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "typeConversion",
                          "lValueRequested": false,
                          "nameLocations": [],
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "2128:15:39",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint128",
                            "typeString": "uint128"
                          }
                        },
                        {
                          "arguments": [
                            {
                              "id": 33325,
                              "name": "leverage",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 33252,
                              "src": "2152:8:39",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            ],
                            "id": 33324,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "lValueRequested": false,
                            "nodeType": "ElementaryTypeNameExpression",
                            "src": "2145:6:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_type$_t_uint32_$",
                              "typeString": "type(uint32)"
                            },
                            "typeName": {
                              "id": 33323,
                              "name": "uint32",
                              "nodeType": "ElementaryTypeName",
                              "src": "2145:6:39",
                              "typeDescriptions": {}
                            }
                          },
                          "id": 33326,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "typeConversion",
                          "lValueRequested": false,
                          "nameLocations": [],
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "2145:16:39",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint32",
                            "typeString": "uint32"
                          }
                        },
                        {
                          "id": 33327,
                          "name": "isLong",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 33254,
                          "src": "2163:6:39",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        {
                          "id": 33328,
                          "name": "entryPrice",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 33280,
                          "src": "2171:10:39",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          },
                          {
                            "typeIdentifier": "t_uint128",
                            "typeString": "uint128"
                          },
                          {
                            "typeIdentifier": "t_uint32",
                            "typeString": "uint32"
                          },
                          {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          },
                          {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        ],
                        "id": 33316,
                        "name": "Position",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 33882,
                        "src": "2107:8:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_struct$_Position_$33882_storage_ptr_$",
                          "typeString": "type(struct Position storage pointer)"
                        }
                      },
                      "id": 33329,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "structConstructorCall",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "2107:75:39",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Position_$33882_memory_ptr",
                        "typeString": "struct Position memory"
                      }
                    },
                    "src": "2078:104:39",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Position_$33882_storage",
                      "typeString": "struct Position storage ref"
                    }
                  },
                  "id": 33331,
                  "nodeType": "ExpressionStatement",
                  "src": "2078:104:39"
                },
                {
                  "eventCall": {
                    "arguments": [
                      {
                        "expression": {
                          "id": 33333,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": -15,
                          "src": "2226:3:39",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 33334,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "2230:6:39",
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "src": "2226:10:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "id": 33335,
                        "name": "positionCounter",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 33207,
                        "src": "2250:15:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "id": 33336,
                        "name": "collateral",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 33250,
                        "src": "2279:10:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "id": 33337,
                        "name": "shares",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 33300,
                        "src": "2303:6:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "id": 33338,
                        "name": "leverage",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 33252,
                        "src": "2323:8:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "id": 33339,
                        "name": "isLong",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 33254,
                        "src": "2345:6:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "id": 33340,
                        "name": "entryPrice",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 33280,
                        "src": "2365:10:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "id": 33341,
                        "name": "liquidationPrice",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 33285,
                        "src": "2389:16:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "id": 33342,
                        "name": "takeProfitPrice",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 33287,
                        "src": "2419:15:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "id": 33343,
                        "name": "openDate",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 33295,
                        "src": "2448:8:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "id": 33332,
                      "name": "PositionOpened",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 33945,
                      "src": "2198:14:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_event_nonpayable$_t_address_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_bool_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$",
                        "typeString": "function (address,uint256,uint256,uint256,uint256,bool,uint256,uint256,uint256,uint256)"
                      }
                    },
                    "id": 33344,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2198:268:39",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 33345,
                  "nodeType": "EmitStatement",
                  "src": "2193:273:39"
                }
              ]
            },
            "baseFunctions": [
              33891
            ],
            "documentation": {
              "id": 33248,
              "nodeType": "StructuredDocumentation",
              "src": "1313:65:39",
              "text": "@notice Allows a trader to open a leveraged trading position."
            },
            "functionSelector": "1558c966",
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "openPosition",
            "nameLocation": "1392:12:39",
            "parameters": {
              "id": 33255,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 33250,
                  "mutability": "mutable",
                  "name": "collateral",
                  "nameLocation": "1413:10:39",
                  "nodeType": "VariableDeclaration",
                  "scope": 33347,
                  "src": "1405:18:39",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 33249,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "1405:7:39",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 33252,
                  "mutability": "mutable",
                  "name": "leverage",
                  "nameLocation": "1433:8:39",
                  "nodeType": "VariableDeclaration",
                  "scope": 33347,
                  "src": "1425:16:39",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 33251,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "1425:7:39",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 33254,
                  "mutability": "mutable",
                  "name": "isLong",
                  "nameLocation": "1448:6:39",
                  "nodeType": "VariableDeclaration",
                  "scope": 33347,
                  "src": "1443:11:39",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bool",
                    "typeString": "bool"
                  },
                  "typeName": {
                    "id": 33253,
                    "name": "bool",
                    "nodeType": "ElementaryTypeName",
                    "src": "1443:4:39",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "1404:51:39"
            },
            "returnParameters": {
              "id": 33256,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "1465:0:39"
            },
            "scope": 33715,
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "external"
          },
          {
            "id": 33365,
            "nodeType": "FunctionDefinition",
            "src": "2587:191:39",
            "nodes": [],
            "body": {
              "id": 33364,
              "nodeType": "Block",
              "src": "2639:139:39",
              "nodes": [],
              "statements": [
                {
                  "assignments": [
                    33354
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 33354,
                      "mutability": "mutable",
                      "name": "success",
                      "nameLocation": "2654:7:39",
                      "nodeType": "VariableDeclaration",
                      "scope": 33364,
                      "src": "2649:12:39",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_bool",
                        "typeString": "bool"
                      },
                      "typeName": {
                        "id": 33353,
                        "name": "bool",
                        "nodeType": "ElementaryTypeName",
                        "src": "2649:4:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 33358,
                  "initialValue": {
                    "arguments": [
                      {
                        "id": 33356,
                        "name": "positionId",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 33350,
                        "src": "2679:10:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "id": 33355,
                      "name": "_closePosition",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 33549,
                      "src": "2664:14:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_nonpayable$_t_uint256_$returns$_t_bool_$",
                        "typeString": "function (uint256) returns (bool)"
                      }
                    },
                    "id": 33357,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2664:26:39",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "2649:41:39"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "id": 33360,
                        "name": "success",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 33354,
                        "src": "2708:7:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "hexValue": "5472616465506169723a3a636c6f7365506f736974696f6e3a20506f736974696f6e206973206e6f7420636c6f7361626c652e",
                        "id": 33361,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "2717:53:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_0bf6131df6ef9a1bd9b0bffb0c5b8c47e69a679bb48bbf10070796bd85b8b0cb",
                          "typeString": "literal_string \"TradePair::closePosition: Position is not closable.\""
                        },
                        "value": "TradePair::closePosition: Position is not closable."
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_0bf6131df6ef9a1bd9b0bffb0c5b8c47e69a679bb48bbf10070796bd85b8b0cb",
                          "typeString": "literal_string \"TradePair::closePosition: Position is not closable.\""
                        }
                      ],
                      "id": 33359,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        -18,
                        -18
                      ],
                      "referencedDeclaration": -18,
                      "src": "2700:7:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 33362,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2700:71:39",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 33363,
                  "nodeType": "ExpressionStatement",
                  "src": "2700:71:39"
                }
              ]
            },
            "baseFunctions": [
              33896
            ],
            "documentation": {
              "id": 33348,
              "nodeType": "StructuredDocumentation",
              "src": "2479:103:39",
              "text": "@notice Allows a trader to close a trading position if it's either 100% in profit or -100% in loss."
            },
            "functionSelector": "a126d601",
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "closePosition",
            "nameLocation": "2596:13:39",
            "parameters": {
              "id": 33351,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 33350,
                  "mutability": "mutable",
                  "name": "positionId",
                  "nameLocation": "2618:10:39",
                  "nodeType": "VariableDeclaration",
                  "scope": 33365,
                  "src": "2610:18:39",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 33349,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2610:7:39",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "2609:20:39"
            },
            "returnParameters": {
              "id": 33352,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "2639:0:39"
            },
            "scope": 33715,
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "external"
          },
          {
            "id": 33549,
            "nodeType": "FunctionDefinition",
            "src": "2844:1622:39",
            "nodes": [],
            "body": {
              "id": 33548,
              "nodeType": "Block",
              "src": "2920:1546:39",
              "nodes": [],
              "statements": [
                {
                  "assignments": [
                    33375
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 33375,
                      "mutability": "mutable",
                      "name": "position",
                      "nameLocation": "2947:8:39",
                      "nodeType": "VariableDeclaration",
                      "scope": 33548,
                      "src": "2930:25:39",
                      "stateVariable": false,
                      "storageLocation": "storage",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Position_$33882_storage_ptr",
                        "typeString": "struct Position"
                      },
                      "typeName": {
                        "id": 33374,
                        "nodeType": "UserDefinedTypeName",
                        "pathNode": {
                          "id": 33373,
                          "name": "Position",
                          "nameLocations": [
                            "2930:8:39"
                          ],
                          "nodeType": "IdentifierPath",
                          "referencedDeclaration": 33882,
                          "src": "2930:8:39"
                        },
                        "referencedDeclaration": 33882,
                        "src": "2930:8:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Position_$33882_storage_ptr",
                          "typeString": "struct Position"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 33379,
                  "initialValue": {
                    "baseExpression": {
                      "id": 33376,
                      "name": "positions",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 33219,
                      "src": "2958:9:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_mapping$_t_uint256_$_t_struct$_Position_$33882_storage_$",
                        "typeString": "mapping(uint256 => struct Position storage ref)"
                      }
                    },
                    "id": 33378,
                    "indexExpression": {
                      "id": 33377,
                      "name": "positionId",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 33368,
                      "src": "2968:10:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "IndexAccess",
                    "src": "2958:21:39",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Position_$33882_storage",
                      "typeString": "struct Position storage ref"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "2930:49:39"
                },
                {
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    },
                    "id": 33386,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "expression": {
                        "id": 33380,
                        "name": "position",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 33375,
                        "src": "2994:8:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Position_$33882_storage_ptr",
                          "typeString": "struct Position storage pointer"
                        }
                      },
                      "id": 33381,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberLocation": "3003:6:39",
                      "memberName": "trader",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 33873,
                      "src": "2994:15:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "==",
                    "rightExpression": {
                      "arguments": [
                        {
                          "hexValue": "30",
                          "id": 33384,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "kind": "number",
                          "lValueRequested": false,
                          "nodeType": "Literal",
                          "src": "3021:1:39",
                          "typeDescriptions": {
                            "typeIdentifier": "t_rational_0_by_1",
                            "typeString": "int_const 0"
                          },
                          "value": "0"
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_rational_0_by_1",
                            "typeString": "int_const 0"
                          }
                        ],
                        "id": 33383,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "lValueRequested": false,
                        "nodeType": "ElementaryTypeNameExpression",
                        "src": "3013:7:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_address_$",
                          "typeString": "type(address)"
                        },
                        "typeName": {
                          "id": 33382,
                          "name": "address",
                          "nodeType": "ElementaryTypeName",
                          "src": "3013:7:39",
                          "typeDescriptions": {}
                        }
                      },
                      "id": 33385,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "typeConversion",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "3013:10:39",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "src": "2994:29:39",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 33390,
                  "nodeType": "IfStatement",
                  "src": "2990:106:39",
                  "trueBody": {
                    "id": 33389,
                    "nodeType": "Block",
                    "src": "3025:71:39",
                    "statements": [
                      {
                        "expression": {
                          "hexValue": "66616c7365",
                          "id": 33387,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "kind": "bool",
                          "lValueRequested": false,
                          "nodeType": "Literal",
                          "src": "3080:5:39",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          },
                          "value": "false"
                        },
                        "functionReturnParameters": 33372,
                        "id": 33388,
                        "nodeType": "Return",
                        "src": "3073:12:39"
                      }
                    ]
                  }
                },
                {
                  "assignments": [
                    33392
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 33392,
                      "mutability": "mutable",
                      "name": "closePrice",
                      "nameLocation": "3114:10:39",
                      "nodeType": "VariableDeclaration",
                      "scope": 33548,
                      "src": "3106:18:39",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 33391,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "3106:7:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 33395,
                  "initialValue": {
                    "arguments": [],
                    "expression": {
                      "argumentTypes": [],
                      "id": 33393,
                      "name": "_getCurrentPrice",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 33655,
                      "src": "3127:16:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_view$__$returns$_t_uint256_$",
                        "typeString": "function () view returns (uint256)"
                      }
                    },
                    "id": 33394,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "3127:18:39",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "3106:39:39"
                },
                {
                  "assignments": [
                    33397
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 33397,
                      "mutability": "mutable",
                      "name": "pnl",
                      "nameLocation": "3162:3:39",
                      "nodeType": "VariableDeclaration",
                      "scope": 33548,
                      "src": "3155:10:39",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_int128",
                        "typeString": "int128"
                      },
                      "typeName": {
                        "id": 33396,
                        "name": "int128",
                        "nodeType": "ElementaryTypeName",
                        "src": "3155:6:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_int128",
                          "typeString": "int128"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 33398,
                  "nodeType": "VariableDeclarationStatement",
                  "src": "3155:10:39"
                },
                {
                  "assignments": [
                    33400,
                    33402
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 33400,
                      "mutability": "mutable",
                      "name": "liquidationPrice",
                      "nameLocation": "3185:16:39",
                      "nodeType": "VariableDeclaration",
                      "scope": 33548,
                      "src": "3177:24:39",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 33399,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "3177:7:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "visibility": "internal"
                    },
                    {
                      "constant": false,
                      "id": 33402,
                      "mutability": "mutable",
                      "name": "takeProfitPrice",
                      "nameLocation": "3211:15:39",
                      "nodeType": "VariableDeclaration",
                      "scope": 33548,
                      "src": "3203:23:39",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 33401,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "3203:7:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 33411,
                  "initialValue": {
                    "arguments": [
                      {
                        "expression": {
                          "id": 33404,
                          "name": "position",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 33375,
                          "src": "3265:8:39",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Position_$33882_storage_ptr",
                            "typeString": "struct Position storage pointer"
                          }
                        },
                        "id": 33405,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "3274:10:39",
                        "memberName": "entryPrice",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 33881,
                        "src": "3265:19:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "expression": {
                          "id": 33406,
                          "name": "position",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 33375,
                          "src": "3286:8:39",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Position_$33882_storage_ptr",
                            "typeString": "struct Position storage pointer"
                          }
                        },
                        "id": 33407,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "3295:8:39",
                        "memberName": "leverage",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 33877,
                        "src": "3286:17:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint32",
                          "typeString": "uint32"
                        }
                      },
                      {
                        "expression": {
                          "id": 33408,
                          "name": "position",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 33375,
                          "src": "3305:8:39",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Position_$33882_storage_ptr",
                            "typeString": "struct Position storage pointer"
                          }
                        },
                        "id": 33409,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "3314:6:39",
                        "memberName": "isLong",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 33879,
                        "src": "3305:15:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_uint32",
                          "typeString": "uint32"
                        },
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      ],
                      "id": 33403,
                      "name": "_calculatePriceTargets",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 33714,
                      "src": "3242:22:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_pure$_t_uint256_$_t_uint256_$_t_bool_$returns$_t_uint256_$_t_uint256_$",
                        "typeString": "function (uint256,uint256,bool) pure returns (uint256,uint256)"
                      }
                    },
                    "id": 33410,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "3242:79:39",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$_t_uint256_$_t_uint256_$",
                      "typeString": "tuple(uint256,uint256)"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "3176:145:39"
                },
                {
                  "condition": {
                    "expression": {
                      "id": 33412,
                      "name": "position",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 33375,
                      "src": "3336:8:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Position_$33882_storage_ptr",
                        "typeString": "struct Position storage pointer"
                      }
                    },
                    "id": 33413,
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "memberLocation": "3345:6:39",
                    "memberName": "isLong",
                    "nodeType": "MemberAccess",
                    "referencedDeclaration": 33879,
                    "src": "3336:15:39",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "falseBody": {
                    "id": 33475,
                    "nodeType": "Block",
                    "src": "3636:277:39",
                    "statements": [
                      {
                        "condition": {
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 33447,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "id": 33445,
                            "name": "closePrice",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 33392,
                            "src": "3654:10:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "<=",
                          "rightExpression": {
                            "id": 33446,
                            "name": "takeProfitPrice",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 33402,
                            "src": "3668:15:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "3654:29:39",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "falseBody": {
                          "condition": {
                            "commonType": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            },
                            "id": 33459,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "leftExpression": {
                              "id": 33457,
                              "name": "closePrice",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 33392,
                              "src": "3757:10:39",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            },
                            "nodeType": "BinaryOperation",
                            "operator": ">=",
                            "rightExpression": {
                              "id": 33458,
                              "name": "liquidationPrice",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 33400,
                              "src": "3771:16:39",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            },
                            "src": "3757:30:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_bool",
                              "typeString": "bool"
                            }
                          },
                          "falseBody": {
                            "id": 33472,
                            "nodeType": "Block",
                            "src": "3858:45:39",
                            "statements": [
                              {
                                "expression": {
                                  "hexValue": "66616c7365",
                                  "id": 33470,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": true,
                                  "kind": "bool",
                                  "lValueRequested": false,
                                  "nodeType": "Literal",
                                  "src": "3883:5:39",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_bool",
                                    "typeString": "bool"
                                  },
                                  "value": "false"
                                },
                                "functionReturnParameters": 33372,
                                "id": 33471,
                                "nodeType": "Return",
                                "src": "3876:12:39"
                              }
                            ]
                          },
                          "id": 33473,
                          "nodeType": "IfStatement",
                          "src": "3753:150:39",
                          "trueBody": {
                            "id": 33469,
                            "nodeType": "Block",
                            "src": "3789:63:39",
                            "statements": [
                              {
                                "expression": {
                                  "id": 33467,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "leftHandSide": {
                                    "id": 33460,
                                    "name": "pnl",
                                    "nodeType": "Identifier",
                                    "overloadedDeclarations": [],
                                    "referencedDeclaration": 33397,
                                    "src": "3807:3:39",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_int128",
                                      "typeString": "int128"
                                    }
                                  },
                                  "nodeType": "Assignment",
                                  "operator": "=",
                                  "rightHandSide": {
                                    "id": 33466,
                                    "isConstant": false,
                                    "isLValue": false,
                                    "isPure": false,
                                    "lValueRequested": false,
                                    "nodeType": "UnaryOperation",
                                    "operator": "-",
                                    "prefix": true,
                                    "src": "3813:24:39",
                                    "subExpression": {
                                      "arguments": [
                                        {
                                          "expression": {
                                            "id": 33463,
                                            "name": "position",
                                            "nodeType": "Identifier",
                                            "overloadedDeclarations": [],
                                            "referencedDeclaration": 33375,
                                            "src": "3821:8:39",
                                            "typeDescriptions": {
                                              "typeIdentifier": "t_struct$_Position_$33882_storage_ptr",
                                              "typeString": "struct Position storage pointer"
                                            }
                                          },
                                          "id": 33464,
                                          "isConstant": false,
                                          "isLValue": true,
                                          "isPure": false,
                                          "lValueRequested": false,
                                          "memberLocation": "3830:6:39",
                                          "memberName": "shares",
                                          "nodeType": "MemberAccess",
                                          "referencedDeclaration": 33875,
                                          "src": "3821:15:39",
                                          "typeDescriptions": {
                                            "typeIdentifier": "t_uint128",
                                            "typeString": "uint128"
                                          }
                                        }
                                      ],
                                      "expression": {
                                        "argumentTypes": [
                                          {
                                            "typeIdentifier": "t_uint128",
                                            "typeString": "uint128"
                                          }
                                        ],
                                        "id": 33462,
                                        "isConstant": false,
                                        "isLValue": false,
                                        "isPure": true,
                                        "lValueRequested": false,
                                        "nodeType": "ElementaryTypeNameExpression",
                                        "src": "3814:6:39",
                                        "typeDescriptions": {
                                          "typeIdentifier": "t_type$_t_int128_$",
                                          "typeString": "type(int128)"
                                        },
                                        "typeName": {
                                          "id": 33461,
                                          "name": "int128",
                                          "nodeType": "ElementaryTypeName",
                                          "src": "3814:6:39",
                                          "typeDescriptions": {}
                                        }
                                      },
                                      "id": 33465,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": false,
                                      "kind": "typeConversion",
                                      "lValueRequested": false,
                                      "nameLocations": [],
                                      "names": [],
                                      "nodeType": "FunctionCall",
                                      "src": "3814:23:39",
                                      "tryCall": false,
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_int128",
                                        "typeString": "int128"
                                      }
                                    },
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_int128",
                                      "typeString": "int128"
                                    }
                                  },
                                  "src": "3807:30:39",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_int128",
                                    "typeString": "int128"
                                  }
                                },
                                "id": 33468,
                                "nodeType": "ExpressionStatement",
                                "src": "3807:30:39"
                              }
                            ]
                          }
                        },
                        "id": 33474,
                        "nodeType": "IfStatement",
                        "src": "3650:253:39",
                        "trueBody": {
                          "id": 33456,
                          "nodeType": "Block",
                          "src": "3685:62:39",
                          "statements": [
                            {
                              "expression": {
                                "id": 33454,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": false,
                                "lValueRequested": false,
                                "leftHandSide": {
                                  "id": 33448,
                                  "name": "pnl",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 33397,
                                  "src": "3703:3:39",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_int128",
                                    "typeString": "int128"
                                  }
                                },
                                "nodeType": "Assignment",
                                "operator": "=",
                                "rightHandSide": {
                                  "arguments": [
                                    {
                                      "expression": {
                                        "id": 33451,
                                        "name": "position",
                                        "nodeType": "Identifier",
                                        "overloadedDeclarations": [],
                                        "referencedDeclaration": 33375,
                                        "src": "3716:8:39",
                                        "typeDescriptions": {
                                          "typeIdentifier": "t_struct$_Position_$33882_storage_ptr",
                                          "typeString": "struct Position storage pointer"
                                        }
                                      },
                                      "id": 33452,
                                      "isConstant": false,
                                      "isLValue": true,
                                      "isPure": false,
                                      "lValueRequested": false,
                                      "memberLocation": "3725:6:39",
                                      "memberName": "shares",
                                      "nodeType": "MemberAccess",
                                      "referencedDeclaration": 33875,
                                      "src": "3716:15:39",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_uint128",
                                        "typeString": "uint128"
                                      }
                                    }
                                  ],
                                  "expression": {
                                    "argumentTypes": [
                                      {
                                        "typeIdentifier": "t_uint128",
                                        "typeString": "uint128"
                                      }
                                    ],
                                    "id": 33450,
                                    "isConstant": false,
                                    "isLValue": false,
                                    "isPure": true,
                                    "lValueRequested": false,
                                    "nodeType": "ElementaryTypeNameExpression",
                                    "src": "3709:6:39",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_type$_t_int128_$",
                                      "typeString": "type(int128)"
                                    },
                                    "typeName": {
                                      "id": 33449,
                                      "name": "int128",
                                      "nodeType": "ElementaryTypeName",
                                      "src": "3709:6:39",
                                      "typeDescriptions": {}
                                    }
                                  },
                                  "id": 33453,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "kind": "typeConversion",
                                  "lValueRequested": false,
                                  "nameLocations": [],
                                  "names": [],
                                  "nodeType": "FunctionCall",
                                  "src": "3709:23:39",
                                  "tryCall": false,
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_int128",
                                    "typeString": "int128"
                                  }
                                },
                                "src": "3703:29:39",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_int128",
                                  "typeString": "int128"
                                }
                              },
                              "id": 33455,
                              "nodeType": "ExpressionStatement",
                              "src": "3703:29:39"
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "id": 33476,
                  "nodeType": "IfStatement",
                  "src": "3332:581:39",
                  "trueBody": {
                    "id": 33444,
                    "nodeType": "Block",
                    "src": "3353:277:39",
                    "statements": [
                      {
                        "condition": {
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 33416,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "id": 33414,
                            "name": "closePrice",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 33392,
                            "src": "3371:10:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": ">=",
                          "rightExpression": {
                            "id": 33415,
                            "name": "takeProfitPrice",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 33402,
                            "src": "3385:15:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "3371:29:39",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "falseBody": {
                          "condition": {
                            "commonType": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            },
                            "id": 33428,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "leftExpression": {
                              "id": 33426,
                              "name": "closePrice",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 33392,
                              "src": "3474:10:39",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            },
                            "nodeType": "BinaryOperation",
                            "operator": "<=",
                            "rightExpression": {
                              "id": 33427,
                              "name": "liquidationPrice",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 33400,
                              "src": "3488:16:39",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            },
                            "src": "3474:30:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_bool",
                              "typeString": "bool"
                            }
                          },
                          "falseBody": {
                            "id": 33441,
                            "nodeType": "Block",
                            "src": "3575:45:39",
                            "statements": [
                              {
                                "expression": {
                                  "hexValue": "66616c7365",
                                  "id": 33439,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": true,
                                  "kind": "bool",
                                  "lValueRequested": false,
                                  "nodeType": "Literal",
                                  "src": "3600:5:39",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_bool",
                                    "typeString": "bool"
                                  },
                                  "value": "false"
                                },
                                "functionReturnParameters": 33372,
                                "id": 33440,
                                "nodeType": "Return",
                                "src": "3593:12:39"
                              }
                            ]
                          },
                          "id": 33442,
                          "nodeType": "IfStatement",
                          "src": "3470:150:39",
                          "trueBody": {
                            "id": 33438,
                            "nodeType": "Block",
                            "src": "3506:63:39",
                            "statements": [
                              {
                                "expression": {
                                  "id": 33436,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "leftHandSide": {
                                    "id": 33429,
                                    "name": "pnl",
                                    "nodeType": "Identifier",
                                    "overloadedDeclarations": [],
                                    "referencedDeclaration": 33397,
                                    "src": "3524:3:39",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_int128",
                                      "typeString": "int128"
                                    }
                                  },
                                  "nodeType": "Assignment",
                                  "operator": "=",
                                  "rightHandSide": {
                                    "id": 33435,
                                    "isConstant": false,
                                    "isLValue": false,
                                    "isPure": false,
                                    "lValueRequested": false,
                                    "nodeType": "UnaryOperation",
                                    "operator": "-",
                                    "prefix": true,
                                    "src": "3530:24:39",
                                    "subExpression": {
                                      "arguments": [
                                        {
                                          "expression": {
                                            "id": 33432,
                                            "name": "position",
                                            "nodeType": "Identifier",
                                            "overloadedDeclarations": [],
                                            "referencedDeclaration": 33375,
                                            "src": "3538:8:39",
                                            "typeDescriptions": {
                                              "typeIdentifier": "t_struct$_Position_$33882_storage_ptr",
                                              "typeString": "struct Position storage pointer"
                                            }
                                          },
                                          "id": 33433,
                                          "isConstant": false,
                                          "isLValue": true,
                                          "isPure": false,
                                          "lValueRequested": false,
                                          "memberLocation": "3547:6:39",
                                          "memberName": "shares",
                                          "nodeType": "MemberAccess",
                                          "referencedDeclaration": 33875,
                                          "src": "3538:15:39",
                                          "typeDescriptions": {
                                            "typeIdentifier": "t_uint128",
                                            "typeString": "uint128"
                                          }
                                        }
                                      ],
                                      "expression": {
                                        "argumentTypes": [
                                          {
                                            "typeIdentifier": "t_uint128",
                                            "typeString": "uint128"
                                          }
                                        ],
                                        "id": 33431,
                                        "isConstant": false,
                                        "isLValue": false,
                                        "isPure": true,
                                        "lValueRequested": false,
                                        "nodeType": "ElementaryTypeNameExpression",
                                        "src": "3531:6:39",
                                        "typeDescriptions": {
                                          "typeIdentifier": "t_type$_t_int128_$",
                                          "typeString": "type(int128)"
                                        },
                                        "typeName": {
                                          "id": 33430,
                                          "name": "int128",
                                          "nodeType": "ElementaryTypeName",
                                          "src": "3531:6:39",
                                          "typeDescriptions": {}
                                        }
                                      },
                                      "id": 33434,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": false,
                                      "kind": "typeConversion",
                                      "lValueRequested": false,
                                      "nameLocations": [],
                                      "names": [],
                                      "nodeType": "FunctionCall",
                                      "src": "3531:23:39",
                                      "tryCall": false,
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_int128",
                                        "typeString": "int128"
                                      }
                                    },
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_int128",
                                      "typeString": "int128"
                                    }
                                  },
                                  "src": "3524:30:39",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_int128",
                                    "typeString": "int128"
                                  }
                                },
                                "id": 33437,
                                "nodeType": "ExpressionStatement",
                                "src": "3524:30:39"
                              }
                            ]
                          }
                        },
                        "id": 33443,
                        "nodeType": "IfStatement",
                        "src": "3367:253:39",
                        "trueBody": {
                          "id": 33425,
                          "nodeType": "Block",
                          "src": "3402:62:39",
                          "statements": [
                            {
                              "expression": {
                                "id": 33423,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": false,
                                "lValueRequested": false,
                                "leftHandSide": {
                                  "id": 33417,
                                  "name": "pnl",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 33397,
                                  "src": "3420:3:39",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_int128",
                                    "typeString": "int128"
                                  }
                                },
                                "nodeType": "Assignment",
                                "operator": "=",
                                "rightHandSide": {
                                  "arguments": [
                                    {
                                      "expression": {
                                        "id": 33420,
                                        "name": "position",
                                        "nodeType": "Identifier",
                                        "overloadedDeclarations": [],
                                        "referencedDeclaration": 33375,
                                        "src": "3433:8:39",
                                        "typeDescriptions": {
                                          "typeIdentifier": "t_struct$_Position_$33882_storage_ptr",
                                          "typeString": "struct Position storage pointer"
                                        }
                                      },
                                      "id": 33421,
                                      "isConstant": false,
                                      "isLValue": true,
                                      "isPure": false,
                                      "lValueRequested": false,
                                      "memberLocation": "3442:6:39",
                                      "memberName": "shares",
                                      "nodeType": "MemberAccess",
                                      "referencedDeclaration": 33875,
                                      "src": "3433:15:39",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_uint128",
                                        "typeString": "uint128"
                                      }
                                    }
                                  ],
                                  "expression": {
                                    "argumentTypes": [
                                      {
                                        "typeIdentifier": "t_uint128",
                                        "typeString": "uint128"
                                      }
                                    ],
                                    "id": 33419,
                                    "isConstant": false,
                                    "isLValue": false,
                                    "isPure": true,
                                    "lValueRequested": false,
                                    "nodeType": "ElementaryTypeNameExpression",
                                    "src": "3426:6:39",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_type$_t_int128_$",
                                      "typeString": "type(int128)"
                                    },
                                    "typeName": {
                                      "id": 33418,
                                      "name": "int128",
                                      "nodeType": "ElementaryTypeName",
                                      "src": "3426:6:39",
                                      "typeDescriptions": {}
                                    }
                                  },
                                  "id": 33422,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "kind": "typeConversion",
                                  "lValueRequested": false,
                                  "nameLocations": [],
                                  "names": [],
                                  "nodeType": "FunctionCall",
                                  "src": "3426:23:39",
                                  "tryCall": false,
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_int128",
                                    "typeString": "int128"
                                  }
                                },
                                "src": "3420:29:39",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_int128",
                                  "typeString": "int128"
                                }
                              },
                              "id": 33424,
                              "nodeType": "ExpressionStatement",
                              "src": "3420:29:39"
                            }
                          ]
                        }
                      }
                    ]
                  }
                },
                {
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_int128",
                      "typeString": "int128"
                    },
                    "id": 33479,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "id": 33477,
                      "name": "pnl",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 33397,
                      "src": "3927:3:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_int128",
                        "typeString": "int128"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": ">",
                    "rightExpression": {
                      "hexValue": "30",
                      "id": 33478,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "3933:1:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_0_by_1",
                        "typeString": "int_const 0"
                      },
                      "value": "0"
                    },
                    "src": "3927:7:39",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "falseBody": {
                    "id": 33529,
                    "nodeType": "Block",
                    "src": "4032:274:39",
                    "statements": [
                      {
                        "assignments": [
                          33498
                        ],
                        "declarations": [
                          {
                            "constant": false,
                            "id": 33498,
                            "mutability": "mutable",
                            "name": "protocolShare",
                            "nameLocation": "4054:13:39",
                            "nodeType": "VariableDeclaration",
                            "scope": 33529,
                            "src": "4046:21:39",
                            "stateVariable": false,
                            "storageLocation": "default",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            },
                            "typeName": {
                              "id": 33497,
                              "name": "uint256",
                              "nodeType": "ElementaryTypeName",
                              "src": "4046:7:39",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            },
                            "visibility": "internal"
                          }
                        ],
                        "id": 33505,
                        "initialValue": {
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 33504,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "commonType": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            },
                            "id": 33502,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "leftExpression": {
                              "expression": {
                                "id": 33499,
                                "name": "position",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 33375,
                                "src": "4070:8:39",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_struct$_Position_$33882_storage_ptr",
                                  "typeString": "struct Position storage pointer"
                                }
                              },
                              "id": 33500,
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "memberLocation": "4079:6:39",
                              "memberName": "shares",
                              "nodeType": "MemberAccess",
                              "referencedDeclaration": 33875,
                              "src": "4070:15:39",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint128",
                                "typeString": "uint128"
                              }
                            },
                            "nodeType": "BinaryOperation",
                            "operator": "*",
                            "rightExpression": {
                              "id": 33501,
                              "name": "fee",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 33205,
                              "src": "4088:3:39",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            },
                            "src": "4070:21:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "/",
                          "rightExpression": {
                            "id": 33503,
                            "name": "PRECISION",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 33178,
                            "src": "4094:9:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "4070:33:39",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "nodeType": "VariableDeclarationStatement",
                        "src": "4046:57:39"
                      },
                      {
                        "expression": {
                          "arguments": [
                            {
                              "id": 33509,
                              "name": "protocol",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 33214,
                              "src": "4140:8:39",
                              "typeDescriptions": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            },
                            {
                              "id": 33510,
                              "name": "protocolShare",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 33498,
                              "src": "4150:13:39",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              },
                              {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            ],
                            "expression": {
                              "id": 33506,
                              "name": "liquidityPool",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 33211,
                              "src": "4117:13:39",
                              "typeDescriptions": {
                                "typeIdentifier": "t_contract$_ILiquidityPool_$33868",
                                "typeString": "contract ILiquidityPool"
                              }
                            },
                            "id": 33508,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberLocation": "4131:8:39",
                            "memberName": "transfer",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": 30680,
                            "src": "4117:22:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$",
                              "typeString": "function (address,uint256) external returns (bool)"
                            }
                          },
                          "id": 33511,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "nameLocations": [],
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "4117:47:39",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "id": 33512,
                        "nodeType": "ExpressionStatement",
                        "src": "4117:47:39"
                      },
                      {
                        "expression": {
                          "arguments": [
                            {
                              "commonType": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              },
                              "id": 33521,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "leftExpression": {
                                "commonType": {
                                  "typeIdentifier": "t_uint128",
                                  "typeString": "uint128"
                                },
                                "id": 33519,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": false,
                                "lValueRequested": false,
                                "leftExpression": {
                                  "expression": {
                                    "id": 33516,
                                    "name": "position",
                                    "nodeType": "Identifier",
                                    "overloadedDeclarations": [],
                                    "referencedDeclaration": 33375,
                                    "src": "4197:8:39",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_struct$_Position_$33882_storage_ptr",
                                      "typeString": "struct Position storage pointer"
                                    }
                                  },
                                  "id": 33517,
                                  "isConstant": false,
                                  "isLValue": true,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "memberLocation": "4206:6:39",
                                  "memberName": "shares",
                                  "nodeType": "MemberAccess",
                                  "referencedDeclaration": 33875,
                                  "src": "4197:15:39",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_uint128",
                                    "typeString": "uint128"
                                  }
                                },
                                "nodeType": "BinaryOperation",
                                "operator": "*",
                                "rightExpression": {
                                  "hexValue": "32",
                                  "id": 33518,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": true,
                                  "kind": "number",
                                  "lValueRequested": false,
                                  "nodeType": "Literal",
                                  "src": "4215:1:39",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_rational_2_by_1",
                                    "typeString": "int_const 2"
                                  },
                                  "value": "2"
                                },
                                "src": "4197:19:39",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint128",
                                  "typeString": "uint128"
                                }
                              },
                              "nodeType": "BinaryOperation",
                              "operator": "-",
                              "rightExpression": {
                                "id": 33520,
                                "name": "protocolShare",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 33498,
                                "src": "4219:13:39",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              },
                              "src": "4197:35:39",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            ],
                            "expression": {
                              "id": 33513,
                              "name": "liquidityPool",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 33211,
                              "src": "4178:13:39",
                              "typeDescriptions": {
                                "typeIdentifier": "t_contract$_ILiquidityPool_$33868",
                                "typeString": "contract ILiquidityPool"
                              }
                            },
                            "id": 33515,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberLocation": "4192:4:39",
                            "memberName": "burn",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": 33804,
                            "src": "4178:18:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_external_nonpayable$_t_uint256_$returns$__$",
                              "typeString": "function (uint256) external"
                            }
                          },
                          "id": 33522,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "nameLocations": [],
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "4178:55:39",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_tuple$__$",
                            "typeString": "tuple()"
                          }
                        },
                        "id": 33523,
                        "nodeType": "ExpressionStatement",
                        "src": "4178:55:39"
                      },
                      {
                        "eventCall": {
                          "arguments": [
                            {
                              "id": 33525,
                              "name": "protocol",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 33214,
                              "src": "4271:8:39",
                              "typeDescriptions": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            },
                            {
                              "id": 33526,
                              "name": "protocolShare",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 33498,
                              "src": "4281:13:39",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              },
                              {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            ],
                            "id": 33524,
                            "name": "ProtocolShareTaken",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 33975,
                            "src": "4252:18:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_event_nonpayable$_t_address_$_t_uint256_$returns$__$",
                              "typeString": "function (address,uint256)"
                            }
                          },
                          "id": 33527,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "nameLocations": [],
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "4252:43:39",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_tuple$__$",
                            "typeString": "tuple()"
                          }
                        },
                        "id": 33528,
                        "nodeType": "EmitStatement",
                        "src": "4247:48:39"
                      }
                    ]
                  },
                  "id": 33530,
                  "nodeType": "IfStatement",
                  "src": "3923:383:39",
                  "trueBody": {
                    "id": 33496,
                    "nodeType": "Block",
                    "src": "3936:90:39",
                    "statements": [
                      {
                        "expression": {
                          "arguments": [
                            {
                              "expression": {
                                "id": 33483,
                                "name": "position",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 33375,
                                "src": "3973:8:39",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_struct$_Position_$33882_storage_ptr",
                                  "typeString": "struct Position storage pointer"
                                }
                              },
                              "id": 33484,
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "memberLocation": "3982:6:39",
                              "memberName": "trader",
                              "nodeType": "MemberAccess",
                              "referencedDeclaration": 33873,
                              "src": "3973:15:39",
                              "typeDescriptions": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            },
                            {
                              "arguments": [
                                {
                                  "commonType": {
                                    "typeIdentifier": "t_int256",
                                    "typeString": "int256"
                                  },
                                  "id": 33492,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "leftExpression": {
                                    "arguments": [
                                      {
                                        "id": 33489,
                                        "name": "pnl",
                                        "nodeType": "Identifier",
                                        "overloadedDeclarations": [],
                                        "referencedDeclaration": 33397,
                                        "src": "4005:3:39",
                                        "typeDescriptions": {
                                          "typeIdentifier": "t_int128",
                                          "typeString": "int128"
                                        }
                                      }
                                    ],
                                    "expression": {
                                      "argumentTypes": [
                                        {
                                          "typeIdentifier": "t_int128",
                                          "typeString": "int128"
                                        }
                                      ],
                                      "id": 33488,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": true,
                                      "lValueRequested": false,
                                      "nodeType": "ElementaryTypeNameExpression",
                                      "src": "3998:6:39",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_type$_t_int256_$",
                                        "typeString": "type(int256)"
                                      },
                                      "typeName": {
                                        "id": 33487,
                                        "name": "int256",
                                        "nodeType": "ElementaryTypeName",
                                        "src": "3998:6:39",
                                        "typeDescriptions": {}
                                      }
                                    },
                                    "id": 33490,
                                    "isConstant": false,
                                    "isLValue": false,
                                    "isPure": false,
                                    "kind": "typeConversion",
                                    "lValueRequested": false,
                                    "nameLocations": [],
                                    "names": [],
                                    "nodeType": "FunctionCall",
                                    "src": "3998:11:39",
                                    "tryCall": false,
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_int256",
                                      "typeString": "int256"
                                    }
                                  },
                                  "nodeType": "BinaryOperation",
                                  "operator": "*",
                                  "rightExpression": {
                                    "hexValue": "32",
                                    "id": 33491,
                                    "isConstant": false,
                                    "isLValue": false,
                                    "isPure": true,
                                    "kind": "number",
                                    "lValueRequested": false,
                                    "nodeType": "Literal",
                                    "src": "4012:1:39",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_rational_2_by_1",
                                      "typeString": "int_const 2"
                                    },
                                    "value": "2"
                                  },
                                  "src": "3998:15:39",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_int256",
                                    "typeString": "int256"
                                  }
                                }
                              ],
                              "expression": {
                                "argumentTypes": [
                                  {
                                    "typeIdentifier": "t_int256",
                                    "typeString": "int256"
                                  }
                                ],
                                "id": 33486,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": true,
                                "lValueRequested": false,
                                "nodeType": "ElementaryTypeNameExpression",
                                "src": "3990:7:39",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_type$_t_uint256_$",
                                  "typeString": "type(uint256)"
                                },
                                "typeName": {
                                  "id": 33485,
                                  "name": "uint256",
                                  "nodeType": "ElementaryTypeName",
                                  "src": "3990:7:39",
                                  "typeDescriptions": {}
                                }
                              },
                              "id": 33493,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "kind": "typeConversion",
                              "lValueRequested": false,
                              "nameLocations": [],
                              "names": [],
                              "nodeType": "FunctionCall",
                              "src": "3990:24:39",
                              "tryCall": false,
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              },
                              {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            ],
                            "expression": {
                              "id": 33480,
                              "name": "liquidityPool",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 33211,
                              "src": "3950:13:39",
                              "typeDescriptions": {
                                "typeIdentifier": "t_contract$_ILiquidityPool_$33868",
                                "typeString": "contract ILiquidityPool"
                              }
                            },
                            "id": 33482,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberLocation": "3964:8:39",
                            "memberName": "transfer",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": 30680,
                            "src": "3950:22:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$",
                              "typeString": "function (address,uint256) external returns (bool)"
                            }
                          },
                          "id": 33494,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "nameLocations": [],
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "3950:65:39",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "id": 33495,
                        "nodeType": "ExpressionStatement",
                        "src": "3950:65:39"
                      }
                    ]
                  }
                },
                {
                  "eventCall": {
                    "arguments": [
                      {
                        "expression": {
                          "id": 33532,
                          "name": "position",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 33375,
                          "src": "4336:8:39",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Position_$33882_storage_ptr",
                            "typeString": "struct Position storage pointer"
                          }
                        },
                        "id": 33533,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "4345:6:39",
                        "memberName": "trader",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 33873,
                        "src": "4336:15:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "id": 33534,
                        "name": "positionId",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 33368,
                        "src": "4353:10:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "id": 33535,
                        "name": "closePrice",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 33392,
                        "src": "4365:10:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "expression": {
                          "id": 33536,
                          "name": "block",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": -4,
                          "src": "4377:5:39",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_block",
                            "typeString": "block"
                          }
                        },
                        "id": 33537,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "4383:9:39",
                        "memberName": "timestamp",
                        "nodeType": "MemberAccess",
                        "src": "4377:15:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "id": 33538,
                        "name": "pnl",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 33397,
                        "src": "4394:3:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_int128",
                          "typeString": "int128"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_int128",
                          "typeString": "int128"
                        }
                      ],
                      "id": 33531,
                      "name": "PositionClosed",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 33957,
                      "src": "4321:14:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_event_nonpayable$_t_address_$_t_uint256_$_t_uint256_$_t_uint256_$_t_int256_$returns$__$",
                        "typeString": "function (address,uint256,uint256,uint256,int256)"
                      }
                    },
                    "id": 33539,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "4321:77:39",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 33540,
                  "nodeType": "EmitStatement",
                  "src": "4316:82:39"
                },
                {
                  "expression": {
                    "id": 33544,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "UnaryOperation",
                    "operator": "delete",
                    "prefix": true,
                    "src": "4409:28:39",
                    "subExpression": {
                      "baseExpression": {
                        "id": 33541,
                        "name": "positions",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 33219,
                        "src": "4416:9:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_mapping$_t_uint256_$_t_struct$_Position_$33882_storage_$",
                          "typeString": "mapping(uint256 => struct Position storage ref)"
                        }
                      },
                      "id": 33543,
                      "indexExpression": {
                        "id": 33542,
                        "name": "positionId",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 33368,
                        "src": "4426:10:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "nodeType": "IndexAccess",
                      "src": "4416:21:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Position_$33882_storage",
                        "typeString": "struct Position storage ref"
                      }
                    },
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 33545,
                  "nodeType": "ExpressionStatement",
                  "src": "4409:28:39"
                },
                {
                  "expression": {
                    "hexValue": "74727565",
                    "id": 33546,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": true,
                    "kind": "bool",
                    "lValueRequested": false,
                    "nodeType": "Literal",
                    "src": "4455:4:39",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    },
                    "value": "true"
                  },
                  "functionReturnParameters": 33372,
                  "id": 33547,
                  "nodeType": "Return",
                  "src": "4448:11:39"
                }
              ]
            },
            "documentation": {
              "id": 33366,
              "nodeType": "StructuredDocumentation",
              "src": "2784:55:39",
              "text": "@dev Internal function to close a trading position."
            },
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "_closePosition",
            "nameLocation": "2853:14:39",
            "parameters": {
              "id": 33369,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 33368,
                  "mutability": "mutable",
                  "name": "positionId",
                  "nameLocation": "2876:10:39",
                  "nodeType": "VariableDeclaration",
                  "scope": 33549,
                  "src": "2868:18:39",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 33367,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2868:7:39",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "2867:20:39"
            },
            "returnParameters": {
              "id": 33372,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 33371,
                  "mutability": "mutable",
                  "name": "success",
                  "nameLocation": "2911:7:39",
                  "nodeType": "VariableDeclaration",
                  "scope": 33549,
                  "src": "2906:12:39",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bool",
                    "typeString": "bool"
                  },
                  "typeName": {
                    "id": 33370,
                    "name": "bool",
                    "nodeType": "ElementaryTypeName",
                    "src": "2906:4:39",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "2905:14:39"
            },
            "scope": 33715,
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "internal"
          },
          {
            "id": 33576,
            "nodeType": "FunctionDefinition",
            "src": "4549:183:39",
            "nodes": [],
            "body": {
              "id": 33575,
              "nodeType": "Block",
              "src": "4612:120:39",
              "nodes": [],
              "statements": [
                {
                  "body": {
                    "id": 33573,
                    "nodeType": "Block",
                    "src": "4671:55:39",
                    "statements": [
                      {
                        "expression": {
                          "arguments": [
                            {
                              "baseExpression": {
                                "id": 33568,
                                "name": "positionIds",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 33553,
                                "src": "4700:11:39",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                                  "typeString": "uint256[] memory"
                                }
                              },
                              "id": 33570,
                              "indexExpression": {
                                "id": 33569,
                                "name": "i",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 33557,
                                "src": "4712:1:39",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              },
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "nodeType": "IndexAccess",
                              "src": "4700:14:39",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            ],
                            "id": 33567,
                            "name": "_closePosition",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 33549,
                            "src": "4685:14:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_internal_nonpayable$_t_uint256_$returns$_t_bool_$",
                              "typeString": "function (uint256) returns (bool)"
                            }
                          },
                          "id": 33571,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "nameLocations": [],
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "4685:30:39",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "id": 33572,
                        "nodeType": "ExpressionStatement",
                        "src": "4685:30:39"
                      }
                    ]
                  },
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 33563,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "id": 33560,
                      "name": "i",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 33557,
                      "src": "4642:1:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "<",
                    "rightExpression": {
                      "expression": {
                        "id": 33561,
                        "name": "positionIds",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 33553,
                        "src": "4646:11:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                          "typeString": "uint256[] memory"
                        }
                      },
                      "id": 33562,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberLocation": "4658:6:39",
                      "memberName": "length",
                      "nodeType": "MemberAccess",
                      "src": "4646:18:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "4642:22:39",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 33574,
                  "initializationExpression": {
                    "assignments": [
                      33557
                    ],
                    "declarations": [
                      {
                        "constant": false,
                        "id": 33557,
                        "mutability": "mutable",
                        "name": "i",
                        "nameLocation": "4635:1:39",
                        "nodeType": "VariableDeclaration",
                        "scope": 33574,
                        "src": "4627:9:39",
                        "stateVariable": false,
                        "storageLocation": "default",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        "typeName": {
                          "id": 33556,
                          "name": "uint256",
                          "nodeType": "ElementaryTypeName",
                          "src": "4627:7:39",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "visibility": "internal"
                      }
                    ],
                    "id": 33559,
                    "initialValue": {
                      "hexValue": "30",
                      "id": 33558,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "4639:1:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_0_by_1",
                        "typeString": "int_const 0"
                      },
                      "value": "0"
                    },
                    "nodeType": "VariableDeclarationStatement",
                    "src": "4627:13:39"
                  },
                  "loopExpression": {
                    "expression": {
                      "id": 33565,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "nodeType": "UnaryOperation",
                      "operator": "++",
                      "prefix": false,
                      "src": "4666:3:39",
                      "subExpression": {
                        "id": 33564,
                        "name": "i",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 33557,
                        "src": "4666:1:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 33566,
                    "nodeType": "ExpressionStatement",
                    "src": "4666:3:39"
                  },
                  "nodeType": "ForStatement",
                  "src": "4622:104:39"
                }
              ]
            },
            "baseFunctions": [
              33902
            ],
            "documentation": {
              "id": 33550,
              "nodeType": "StructuredDocumentation",
              "src": "4472:72:39",
              "text": "@notice Allows a trader to close multiple trading positions at once."
            },
            "functionSelector": "aa93186d",
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "closePositions",
            "nameLocation": "4558:14:39",
            "parameters": {
              "id": 33554,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 33553,
                  "mutability": "mutable",
                  "name": "positionIds",
                  "nameLocation": "4590:11:39",
                  "nodeType": "VariableDeclaration",
                  "scope": 33576,
                  "src": "4573:28:39",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                    "typeString": "uint256[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 33551,
                      "name": "uint256",
                      "nodeType": "ElementaryTypeName",
                      "src": "4573:7:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 33552,
                    "nodeType": "ArrayTypeName",
                    "src": "4573:9:39",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                      "typeString": "uint256[]"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "4572:30:39"
            },
            "returnParameters": {
              "id": 33555,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "4612:0:39"
            },
            "scope": 33715,
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "external"
          },
          {
            "id": 33595,
            "nodeType": "FunctionDefinition",
            "src": "4796:167:39",
            "nodes": [],
            "body": {
              "id": 33594,
              "nodeType": "Block",
              "src": "4860:103:39",
              "nodes": [],
              "statements": [
                {
                  "expression": {
                    "id": 33585,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 33583,
                      "name": "liquidityPool",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 33211,
                      "src": "4870:13:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_ILiquidityPool_$33868",
                        "typeString": "contract ILiquidityPool"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "id": 33584,
                      "name": "_liquidityPool",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 33580,
                      "src": "4886:14:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_ILiquidityPool_$33868",
                        "typeString": "contract ILiquidityPool"
                      }
                    },
                    "src": "4870:30:39",
                    "typeDescriptions": {
                      "typeIdentifier": "t_contract$_ILiquidityPool_$33868",
                      "typeString": "contract ILiquidityPool"
                    }
                  },
                  "id": 33586,
                  "nodeType": "ExpressionStatement",
                  "src": "4870:30:39"
                },
                {
                  "eventCall": {
                    "arguments": [
                      {
                        "arguments": [
                          {
                            "id": 33590,
                            "name": "_liquidityPool",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 33580,
                            "src": "4940:14:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_contract$_ILiquidityPool_$33868",
                              "typeString": "contract ILiquidityPool"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_contract$_ILiquidityPool_$33868",
                              "typeString": "contract ILiquidityPool"
                            }
                          ],
                          "id": 33589,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "lValueRequested": false,
                          "nodeType": "ElementaryTypeNameExpression",
                          "src": "4932:7:39",
                          "typeDescriptions": {
                            "typeIdentifier": "t_type$_t_address_$",
                            "typeString": "type(address)"
                          },
                          "typeName": {
                            "id": 33588,
                            "name": "address",
                            "nodeType": "ElementaryTypeName",
                            "src": "4932:7:39",
                            "typeDescriptions": {}
                          }
                        },
                        "id": 33591,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "typeConversion",
                        "lValueRequested": false,
                        "nameLocations": [],
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "4932:23:39",
                        "tryCall": false,
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      ],
                      "id": 33587,
                      "name": "LiquidityPoolSet",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 33961,
                      "src": "4915:16:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_event_nonpayable$_t_address_$returns$__$",
                        "typeString": "function (address)"
                      }
                    },
                    "id": 33592,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "4915:41:39",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 33593,
                  "nodeType": "EmitStatement",
                  "src": "4910:46:39"
                }
              ]
            },
            "baseFunctions": [
              33908
            ],
            "documentation": {
              "id": 33577,
              "nodeType": "StructuredDocumentation",
              "src": "4738:53:39",
              "text": "@notice Sets the liquidity pool for the contract."
            },
            "functionSelector": "01877020",
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "setLiquidityPool",
            "nameLocation": "4805:16:39",
            "parameters": {
              "id": 33581,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 33580,
                  "mutability": "mutable",
                  "name": "_liquidityPool",
                  "nameLocation": "4837:14:39",
                  "nodeType": "VariableDeclaration",
                  "scope": 33595,
                  "src": "4822:29:39",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_contract$_ILiquidityPool_$33868",
                    "typeString": "contract ILiquidityPool"
                  },
                  "typeName": {
                    "id": 33579,
                    "nodeType": "UserDefinedTypeName",
                    "pathNode": {
                      "id": 33578,
                      "name": "ILiquidityPool",
                      "nameLocations": [
                        "4822:14:39"
                      ],
                      "nodeType": "IdentifierPath",
                      "referencedDeclaration": 33868,
                      "src": "4822:14:39"
                    },
                    "referencedDeclaration": 33868,
                    "src": "4822:14:39",
                    "typeDescriptions": {
                      "typeIdentifier": "t_contract$_ILiquidityPool_$33868",
                      "typeString": "contract ILiquidityPool"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "4821:31:39"
            },
            "returnParameters": {
              "id": 33582,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "4860:0:39"
            },
            "scope": 33715,
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "public"
          },
          {
            "id": 33610,
            "nodeType": "FunctionDefinition",
            "src": "5012:121:39",
            "nodes": [],
            "body": {
              "id": 33609,
              "nodeType": "Block",
              "src": "5059:74:39",
              "nodes": [],
              "statements": [
                {
                  "expression": {
                    "id": 33603,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 33601,
                      "name": "protocol",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 33214,
                      "src": "5069:8:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "id": 33602,
                      "name": "_protocol",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 33598,
                      "src": "5080:9:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "src": "5069:20:39",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "id": 33604,
                  "nodeType": "ExpressionStatement",
                  "src": "5069:20:39"
                },
                {
                  "eventCall": {
                    "arguments": [
                      {
                        "id": 33606,
                        "name": "_protocol",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 33598,
                        "src": "5116:9:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      ],
                      "id": 33605,
                      "name": "ProtocolSet",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 33965,
                      "src": "5104:11:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_event_nonpayable$_t_address_$returns$__$",
                        "typeString": "function (address)"
                      }
                    },
                    "id": 33607,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "5104:22:39",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 33608,
                  "nodeType": "EmitStatement",
                  "src": "5099:27:39"
                }
              ]
            },
            "baseFunctions": [
              33913
            ],
            "documentation": {
              "id": 33596,
              "nodeType": "StructuredDocumentation",
              "src": "4969:38:39",
              "text": "@notice Sets the protocol address."
            },
            "functionSelector": "0a9d793d",
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "setProtocol",
            "nameLocation": "5021:11:39",
            "parameters": {
              "id": 33599,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 33598,
                  "mutability": "mutable",
                  "name": "_protocol",
                  "nameLocation": "5041:9:39",
                  "nodeType": "VariableDeclaration",
                  "scope": 33610,
                  "src": "5033:17:39",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 33597,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "5033:7:39",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "5032:19:39"
            },
            "returnParameters": {
              "id": 33600,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "5059:0:39"
            },
            "scope": 33715,
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "public"
          },
          {
            "id": 33630,
            "nodeType": "FunctionDefinition",
            "src": "5212:189:39",
            "nodes": [],
            "body": {
              "id": 33629,
              "nodeType": "Block",
              "src": "5271:130:39",
              "nodes": [],
              "statements": [
                {
                  "expression": {
                    "id": 33620,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 33616,
                      "name": "chainlinkAggregator",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 33223,
                      "src": "5281:19:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_AggregatorV3Interface_$33761",
                        "typeString": "contract AggregatorV3Interface"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "arguments": [
                        {
                          "id": 33618,
                          "name": "aggregator",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 33613,
                          "src": "5325:10:39",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        ],
                        "id": 33617,
                        "name": "AggregatorV3Interface",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 33761,
                        "src": "5303:21:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_contract$_AggregatorV3Interface_$33761_$",
                          "typeString": "type(contract AggregatorV3Interface)"
                        }
                      },
                      "id": 33619,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "typeConversion",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "5303:33:39",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_AggregatorV3Interface_$33761",
                        "typeString": "contract AggregatorV3Interface"
                      }
                    },
                    "src": "5281:55:39",
                    "typeDescriptions": {
                      "typeIdentifier": "t_contract$_AggregatorV3Interface_$33761",
                      "typeString": "contract AggregatorV3Interface"
                    }
                  },
                  "id": 33621,
                  "nodeType": "ExpressionStatement",
                  "src": "5281:55:39"
                },
                {
                  "eventCall": {
                    "arguments": [
                      {
                        "arguments": [
                          {
                            "id": 33625,
                            "name": "aggregator",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 33613,
                            "src": "5382:10:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          ],
                          "id": 33624,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "lValueRequested": false,
                          "nodeType": "ElementaryTypeNameExpression",
                          "src": "5374:7:39",
                          "typeDescriptions": {
                            "typeIdentifier": "t_type$_t_address_$",
                            "typeString": "type(address)"
                          },
                          "typeName": {
                            "id": 33623,
                            "name": "address",
                            "nodeType": "ElementaryTypeName",
                            "src": "5374:7:39",
                            "typeDescriptions": {}
                          }
                        },
                        "id": 33626,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "typeConversion",
                        "lValueRequested": false,
                        "nameLocations": [],
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "5374:19:39",
                        "tryCall": false,
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      ],
                      "id": 33622,
                      "name": "ChainlinkAggregatorSet",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 33969,
                      "src": "5351:22:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_event_nonpayable$_t_address_$returns$__$",
                        "typeString": "function (address)"
                      }
                    },
                    "id": 33627,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "5351:43:39",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 33628,
                  "nodeType": "EmitStatement",
                  "src": "5346:48:39"
                }
              ]
            },
            "baseFunctions": [
              33918
            ],
            "documentation": {
              "id": 33611,
              "nodeType": "StructuredDocumentation",
              "src": "5139:68:39",
              "text": "@notice Sets the Chainlink aggregator for fetching asset prices."
            },
            "functionSelector": "ef353917",
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "setChainlinkAggregator",
            "nameLocation": "5221:22:39",
            "parameters": {
              "id": 33614,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 33613,
                  "mutability": "mutable",
                  "name": "aggregator",
                  "nameLocation": "5252:10:39",
                  "nodeType": "VariableDeclaration",
                  "scope": 33630,
                  "src": "5244:18:39",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 33612,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "5244:7:39",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "5243:20:39"
            },
            "returnParameters": {
              "id": 33615,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "5271:0:39"
            },
            "scope": 33715,
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "public"
          },
          {
            "id": 33655,
            "nodeType": "FunctionDefinition",
            "src": "5483:262:39",
            "nodes": [],
            "body": {
              "id": 33654,
              "nodeType": "Block",
              "src": "5543:202:39",
              "nodes": [],
              "statements": [
                {
                  "assignments": [
                    null,
                    33637,
                    null,
                    null,
                    null
                  ],
                  "declarations": [
                    null,
                    {
                      "constant": false,
                      "id": 33637,
                      "mutability": "mutable",
                      "name": "price",
                      "nameLocation": "5563:5:39",
                      "nodeType": "VariableDeclaration",
                      "scope": 33654,
                      "src": "5556:12:39",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_int256",
                        "typeString": "int256"
                      },
                      "typeName": {
                        "id": 33636,
                        "name": "int256",
                        "nodeType": "ElementaryTypeName",
                        "src": "5556:6:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_int256",
                          "typeString": "int256"
                        }
                      },
                      "visibility": "internal"
                    },
                    null,
                    null,
                    null
                  ],
                  "id": 33641,
                  "initialValue": {
                    "arguments": [],
                    "expression": {
                      "argumentTypes": [],
                      "expression": {
                        "id": 33638,
                        "name": "chainlinkAggregator",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 33223,
                        "src": "5575:19:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_contract$_AggregatorV3Interface_$33761",
                          "typeString": "contract AggregatorV3Interface"
                        }
                      },
                      "id": 33639,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberLocation": "5595:15:39",
                      "memberName": "latestRoundData",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 33760,
                      "src": "5575:35:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_external_view$__$returns$_t_uint80_$_t_int256_$_t_uint256_$_t_uint256_$_t_uint80_$",
                        "typeString": "function () view external returns (uint80,int256,uint256,uint256,uint80)"
                      }
                    },
                    "id": 33640,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "5575:37:39",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$_t_uint80_$_t_int256_$_t_uint256_$_t_uint256_$_t_uint80_$",
                      "typeString": "tuple(uint80,int256,uint256,uint256,uint80)"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "5553:59:39"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "commonType": {
                          "typeIdentifier": "t_int256",
                          "typeString": "int256"
                        },
                        "id": 33645,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "id": 33643,
                          "name": "price",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 33637,
                          "src": "5630:5:39",
                          "typeDescriptions": {
                            "typeIdentifier": "t_int256",
                            "typeString": "int256"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": ">",
                        "rightExpression": {
                          "hexValue": "30",
                          "id": 33644,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "kind": "number",
                          "lValueRequested": false,
                          "nodeType": "Literal",
                          "src": "5638:1:39",
                          "typeDescriptions": {
                            "typeIdentifier": "t_rational_0_by_1",
                            "typeString": "int_const 0"
                          },
                          "value": "0"
                        },
                        "src": "5630:9:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "hexValue": "5472616465506169723a3a5f67657443757272656e7450726963653a204661696c656420746f206665746368207468652063757272656e742070726963652e",
                        "id": 33646,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "5641:65:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_3953b2948780ac9608afb61a84ec18f2c056dfe8408f215f198211f700337847",
                          "typeString": "literal_string \"TradePair::_getCurrentPrice: Failed to fetch the current price.\""
                        },
                        "value": "TradePair::_getCurrentPrice: Failed to fetch the current price."
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_3953b2948780ac9608afb61a84ec18f2c056dfe8408f215f198211f700337847",
                          "typeString": "literal_string \"TradePair::_getCurrentPrice: Failed to fetch the current price.\""
                        }
                      ],
                      "id": 33642,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        -18,
                        -18
                      ],
                      "referencedDeclaration": -18,
                      "src": "5622:7:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 33647,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "5622:85:39",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 33648,
                  "nodeType": "ExpressionStatement",
                  "src": "5622:85:39"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "id": 33651,
                        "name": "price",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 33637,
                        "src": "5732:5:39",
                        "typeDescriptions": {
                          "typeIdentifier": "t_int256",
                          "typeString": "int256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_int256",
                          "typeString": "int256"
                        }
                      ],
                      "id": 33650,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "lValueRequested": false,
                      "nodeType": "ElementaryTypeNameExpression",
                      "src": "5724:7:39",
                      "typeDescriptions": {
                        "typeIdentifier": "t_type$_t_uint256_$",
                        "typeString": "type(uint256)"
                      },
                      "typeName": {
                        "id": 33649,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "5724:7:39",
                        "typeDescriptions": {}
                      }
                    },
                    "id": 33652,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "typeConversion",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "5724:14:39",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "functionReturnParameters": 33635,
                  "id": 33653,
                  "nodeType": "Return",
                  "src": "5717:21:39"
                }
              ]
            },
            "documentation": {
              "id": 33631,
              "nodeType": "StructuredDocumentation",
              "src": "5407:71:39",
              "text": "@dev Fetches the current asset price from the Chainlink aggregator."
            },
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "_getCurrentPrice",
            "nameLocation": "5492:16:39",
            "parameters": {
              "id": 33632,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "5508:2:39"
            },
            "returnParameters": {
              "id": 33635,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 33634,
                  "mutability": "mutable",
                  "name": "",
                  "nameLocation": "-1:-1:-1",
                  "nodeType": "VariableDeclaration",
                  "scope": 33655,
                  "src": "5534:7:39",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 33633,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "5534:7:39",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "5533:9:39"
            },
            "scope": 33715,
            "stateMutability": "view",
            "virtual": false,
            "visibility": "internal"
          },
          {
            "id": 33714,
            "nodeType": "FunctionDefinition",
            "src": "5882:554:39",
            "nodes": [],
            "body": {
              "id": 33713,
              "nodeType": "Block",
              "src": "6066:370:39",
              "nodes": [],
              "statements": [
                {
                  "condition": {
                    "id": 33669,
                    "name": "isLong",
                    "nodeType": "Identifier",
                    "overloadedDeclarations": [],
                    "referencedDeclaration": 33662,
                    "src": "6080:6:39",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "falseBody": {
                    "id": 33711,
                    "nodeType": "Block",
                    "src": "6262:168:39",
                    "statements": [
                      {
                        "expression": {
                          "id": 33699,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftHandSide": {
                            "id": 33691,
                            "name": "liquidationPrice",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 33665,
                            "src": "6276:16:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "Assignment",
                          "operator": "=",
                          "rightHandSide": {
                            "commonType": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            },
                            "id": 33698,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "leftExpression": {
                              "id": 33692,
                              "name": "entryPrice",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 33658,
                              "src": "6295:10:39",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            },
                            "nodeType": "BinaryOperation",
                            "operator": "+",
                            "rightExpression": {
                              "commonType": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              },
                              "id": 33697,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "leftExpression": {
                                "commonType": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                },
                                "id": 33695,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": false,
                                "lValueRequested": false,
                                "leftExpression": {
                                  "id": 33693,
                                  "name": "entryPrice",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 33658,
                                  "src": "6308:10:39",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  }
                                },
                                "nodeType": "BinaryOperation",
                                "operator": "*",
                                "rightExpression": {
                                  "id": 33694,
                                  "name": "PRECISION",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 33178,
                                  "src": "6321:9:39",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  }
                                },
                                "src": "6308:22:39",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              },
                              "nodeType": "BinaryOperation",
                              "operator": "/",
                              "rightExpression": {
                                "id": 33696,
                                "name": "leverage",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 33660,
                                "src": "6333:8:39",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              },
                              "src": "6308:33:39",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            },
                            "src": "6295:46:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "6276:65:39",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "id": 33700,
                        "nodeType": "ExpressionStatement",
                        "src": "6276:65:39"
                      },
                      {
                        "expression": {
                          "id": 33709,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftHandSide": {
                            "id": 33701,
                            "name": "takeProfitPrice",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 33667,
                            "src": "6355:15:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "Assignment",
                          "operator": "=",
                          "rightHandSide": {
                            "commonType": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            },
                            "id": 33708,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "leftExpression": {
                              "id": 33702,
                              "name": "entryPrice",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 33658,
                              "src": "6373:10:39",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            },
                            "nodeType": "BinaryOperation",
                            "operator": "-",
                            "rightExpression": {
                              "commonType": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              },
                              "id": 33707,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "leftExpression": {
                                "commonType": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                },
                                "id": 33705,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": false,
                                "lValueRequested": false,
                                "leftExpression": {
                                  "id": 33703,
                                  "name": "entryPrice",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 33658,
                                  "src": "6386:10:39",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  }
                                },
                                "nodeType": "BinaryOperation",
                                "operator": "*",
                                "rightExpression": {
                                  "id": 33704,
                                  "name": "PRECISION",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 33178,
                                  "src": "6399:9:39",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  }
                                },
                                "src": "6386:22:39",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              },
                              "nodeType": "BinaryOperation",
                              "operator": "/",
                              "rightExpression": {
                                "id": 33706,
                                "name": "leverage",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 33660,
                                "src": "6411:8:39",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              },
                              "src": "6386:33:39",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            },
                            "src": "6373:46:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "6355:64:39",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "id": 33710,
                        "nodeType": "ExpressionStatement",
                        "src": "6355:64:39"
                      }
                    ]
                  },
                  "id": 33712,
                  "nodeType": "IfStatement",
                  "src": "6076:354:39",
                  "trueBody": {
                    "id": 33690,
                    "nodeType": "Block",
                    "src": "6088:168:39",
                    "statements": [
                      {
                        "expression": {
                          "id": 33678,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftHandSide": {
                            "id": 33670,
                            "name": "liquidationPrice",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 33665,
                            "src": "6102:16:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "Assignment",
                          "operator": "=",
                          "rightHandSide": {
                            "commonType": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            },
                            "id": 33677,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "leftExpression": {
                              "id": 33671,
                              "name": "entryPrice",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 33658,
                              "src": "6121:10:39",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            },
                            "nodeType": "BinaryOperation",
                            "operator": "-",
                            "rightExpression": {
                              "commonType": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              },
                              "id": 33676,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "leftExpression": {
                                "commonType": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                },
                                "id": 33674,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": false,
                                "lValueRequested": false,
                                "leftExpression": {
                                  "id": 33672,
                                  "name": "entryPrice",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 33658,
                                  "src": "6134:10:39",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  }
                                },
                                "nodeType": "BinaryOperation",
                                "operator": "*",
                                "rightExpression": {
                                  "id": 33673,
                                  "name": "PRECISION",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 33178,
                                  "src": "6147:9:39",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  }
                                },
                                "src": "6134:22:39",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              },
                              "nodeType": "BinaryOperation",
                              "operator": "/",
                              "rightExpression": {
                                "id": 33675,
                                "name": "leverage",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 33660,
                                "src": "6159:8:39",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              },
                              "src": "6134:33:39",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            },
                            "src": "6121:46:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "6102:65:39",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "id": 33679,
                        "nodeType": "ExpressionStatement",
                        "src": "6102:65:39"
                      },
                      {
                        "expression": {
                          "id": 33688,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftHandSide": {
                            "id": 33680,
                            "name": "takeProfitPrice",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 33667,
                            "src": "6181:15:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "Assignment",
                          "operator": "=",
                          "rightHandSide": {
                            "commonType": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            },
                            "id": 33687,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "leftExpression": {
                              "id": 33681,
                              "name": "entryPrice",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 33658,
                              "src": "6199:10:39",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            },
                            "nodeType": "BinaryOperation",
                            "operator": "+",
                            "rightExpression": {
                              "commonType": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              },
                              "id": 33686,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "leftExpression": {
                                "commonType": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                },
                                "id": 33684,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": false,
                                "lValueRequested": false,
                                "leftExpression": {
                                  "id": 33682,
                                  "name": "entryPrice",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 33658,
                                  "src": "6212:10:39",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  }
                                },
                                "nodeType": "BinaryOperation",
                                "operator": "*",
                                "rightExpression": {
                                  "id": 33683,
                                  "name": "PRECISION",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 33178,
                                  "src": "6225:9:39",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  }
                                },
                                "src": "6212:22:39",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              },
                              "nodeType": "BinaryOperation",
                              "operator": "/",
                              "rightExpression": {
                                "id": 33685,
                                "name": "leverage",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 33660,
                                "src": "6237:8:39",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              },
                              "src": "6212:33:39",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            },
                            "src": "6199:46:39",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "6181:64:39",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "id": 33689,
                        "nodeType": "ExpressionStatement",
                        "src": "6181:64:39"
                      }
                    ]
                  }
                }
              ]
            },
            "documentation": {
              "id": 33656,
              "nodeType": "StructuredDocumentation",
              "src": "5751:126:39",
              "text": "@dev Calculates the liquidation and take-profit prices for a position based on entry price, leverage, and trade direction."
            },
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "_calculatePriceTargets",
            "nameLocation": "5891:22:39",
            "parameters": {
              "id": 33663,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 33658,
                  "mutability": "mutable",
                  "name": "entryPrice",
                  "nameLocation": "5922:10:39",
                  "nodeType": "VariableDeclaration",
                  "scope": 33714,
                  "src": "5914:18:39",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 33657,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "5914:7:39",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 33660,
                  "mutability": "mutable",
                  "name": "leverage",
                  "nameLocation": "5942:8:39",
                  "nodeType": "VariableDeclaration",
                  "scope": 33714,
                  "src": "5934:16:39",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 33659,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "5934:7:39",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 33662,
                  "mutability": "mutable",
                  "name": "isLong",
                  "nameLocation": "5957:6:39",
                  "nodeType": "VariableDeclaration",
                  "scope": 33714,
                  "src": "5952:11:39",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bool",
                    "typeString": "bool"
                  },
                  "typeName": {
                    "id": 33661,
                    "name": "bool",
                    "nodeType": "ElementaryTypeName",
                    "src": "5952:4:39",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "5913:51:39"
            },
            "returnParameters": {
              "id": 33668,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 33665,
                  "mutability": "mutable",
                  "name": "liquidationPrice",
                  "nameLocation": "6019:16:39",
                  "nodeType": "VariableDeclaration",
                  "scope": 33714,
                  "src": "6011:24:39",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 33664,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "6011:7:39",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 33667,
                  "mutability": "mutable",
                  "name": "takeProfitPrice",
                  "nameLocation": "6045:15:39",
                  "nodeType": "VariableDeclaration",
                  "scope": 33714,
                  "src": "6037:23:39",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 33666,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "6037:7:39",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "6010:51:39"
            },
            "scope": 33715,
            "stateMutability": "pure",
            "virtual": false,
            "visibility": "private"
          }
        ],
        "abstract": false,
        "baseContracts": [
          {
            "baseName": {
              "id": 33174,
              "name": "ITradePair",
              "nameLocations": [
                "291:10:39"
              ],
              "nodeType": "IdentifierPath",
              "referencedDeclaration": 33976,
              "src": "291:10:39"
            },
            "id": 33175,
            "nodeType": "InheritanceSpecifier",
            "src": "291:10:39"
          }
        ],
        "canonicalName": "TradePair",
        "contractDependencies": [],
        "contractKind": "contract",
        "documentation": {
          "id": 33173,
          "nodeType": "StructuredDocumentation",
          "src": "193:76:39",
          "text": "@title TradePair - A contract for managing leveraged trading positions."
        },
        "fullyImplemented": true,
        "linearizedBaseContracts": [
          33715,
          33976
        ],
        "name": "TradePair",
        "nameLocation": "278:9:39",
        "scope": 33716,
        "usedErrors": []
      }
    ],
    "license": "UNLICENSED"
  },
  "id": 39
}